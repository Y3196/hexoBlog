{"remainingRequest":"E:\\sourceCode\\Backend\\blog-master\\blog-vue\\blog\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\sourceCode\\Backend\\blog-master\\blog-vue\\blog\\src\\components\\Comment.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\sourceCode\\Backend\\blog-master\\blog-vue\\blog\\src\\components\\Comment.vue","mtime":1723689275581},{"path":"E:\\sourceCode\\Backend\\blog-master\\blog-vue\\blog\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\sourceCode\\Backend\\blog-master\\blog-vue\\blog\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\sourceCode\\Backend\\blog-master\\blog-vue\\blog\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\sourceCode\\Backend\\blog-master\\blog-vue\\blog\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBSZXBseSBmcm9tICIuL1JlcGx5IjsKaW1wb3J0IFBhZ2luZyBmcm9tICIuL1BhZ2luZyI7CmltcG9ydCBFbW9qaSBmcm9tICIuL0Vtb2ppIjsKaW1wb3J0IEVtb2ppTGlzdCBmcm9tICIuLi9hc3NldHMvanMvZW1vamkiOwoKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIFJlcGx5LAogICAgRW1vamksCiAgICBQYWdpbmcKICB9LAogIHByb3BzOiB7CiAgICB0eXBlOiB7CiAgICAgIHR5cGU6IE51bWJlcgogICAgfQogIH0sCiAgY3JlYXRlZCgpIHsKICAgIC8vICBjb25zb2xlLmxvZygnQ29tcG9uZW50IG1vdW50ZWQsIGZldGNoaW5nIGNvbW1lbnRzLi4uJyk7CiAgICB0aGlzLmxpc3RDb21tZW50cygpOwogIH0sCiAgZGF0YTogZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIHsKICAgICAgcmVGcmVzaDogdHJ1ZSwKICAgICAgY29tbWVudENvbnRlbnQ6ICIiLAogICAgICBjaG9vc2VFbW9qaTogZmFsc2UsCiAgICAgIGN1cnJlbnQ6IDEsCiAgICAgIGNvbW1lbnRMaXN0OiBbXSwKICAgICAgY291bnQ6IDAKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICByZXBseUNvbW1lbnQoaW5kZXgsIGl0ZW0pIHsKICAgICAgdGhpcy4kcmVmcy5yZXBseS5mb3JFYWNoKGl0ZW0gPT4gewogICAgICAgIGl0ZW0uJGVsLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICAgIH0pOwogICAgICAvL+S8oOWAvOe7meWbnuWkjeahhgogICAgICB0aGlzLiRyZWZzLnJlcGx5W2luZGV4XS5jb21tZW50Q29udGVudCA9ICIiOwogICAgICB0aGlzLiRyZWZzLnJlcGx5W2luZGV4XS5uaWNrbmFtZSA9IGl0ZW0ubmlja25hbWU7CiAgICAgIHRoaXMuJHJlZnMucmVwbHlbaW5kZXhdLnJlcGx5VXNlcklkID0gaXRlbS51c2VySWQ7CiAgICAgIHRoaXMuJHJlZnMucmVwbHlbaW5kZXhdLnBhcmVudElkID0gdGhpcy5jb21tZW50TGlzdFtpbmRleF0uaWQ7CiAgICAgIHRoaXMuJHJlZnMucmVwbHlbaW5kZXhdLmNob29zZUVtb2ppID0gZmFsc2U7CiAgICAgIHRoaXMuJHJlZnMucmVwbHlbaW5kZXhdLmluZGV4ID0gaW5kZXg7CiAgICAgIHRoaXMuJHJlZnMucmVwbHlbaW5kZXhdLiRlbC5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIjsKICAgIH0sCiAgICBhZGRFbW9qaShrZXkpIHsKICAgICAgdGhpcy5jb21tZW50Q29udGVudCArPSBrZXk7CiAgICB9LAogICAgY2hlY2tSZXBsaWVzKGluZGV4LCBpdGVtKSB7CiAgICAgIHRoaXMuYXhpb3MKICAgICAgICAgIC5nZXQoIi9hcGkvY29tbWVudHMvIiArIGl0ZW0uaWQgKyAiL3JlcGxpZXMiLCB7CiAgICAgICAgICAgIHBhcmFtczoge2N1cnJlbnQ6IDEsIHNpemU6IDV9CiAgICAgICAgICB9KQogICAgICAgICAgLnRoZW4oKHtkYXRhfSkgPT4gewogICAgICAgICAgICB0aGlzLiRyZWZzLmNoZWNrW2luZGV4XS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgICAgICAgICBpdGVtLnJlcGx5RFRPTGlzdCA9IGRhdGEuZGF0YTsKICAgICAgICAgICAgLy/otoXov4cx6aG15omN5pi+56S65YiG6aG1CiAgICAgICAgICAgIGlmIChNYXRoLmNlaWwoaXRlbS5yZXBseUNvdW50IC8gNSkgPiAxKSB7CiAgICAgICAgICAgICAgdGhpcy4kcmVmcy5wYWdpbmdbaW5kZXhdLnN0eWxlLmRpc3BsYXkgPSAiZmxleCI7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgfSwKICAgIGNoYW5nZVJlcGx5Q3VycmVudChjdXJyZW50LCBpbmRleCwgY29tbWVudElkKSB7CiAgICAgIC8v5p+l55yL5LiL5LiA6aG15Zue5aSNCiAgICAgIHRoaXMuYXhpb3MKICAgICAgICAgIC5nZXQoIi9hcGkvY29tbWVudHMvIiArIGNvbW1lbnRJZCArICIvcmVwbGllcyIsIHsKICAgICAgICAgICAgcGFyYW1zOiB7Y3VycmVudDogY3VycmVudCwgc2l6ZTogNX0KICAgICAgICAgIH0pCiAgICAgICAgICAudGhlbigoe2RhdGF9KSA9PiB7CiAgICAgICAgICAgIHRoaXMuY29tbWVudExpc3RbaW5kZXhdLnJlcGx5RFRPTGlzdCA9IGRhdGEuZGF0YTsKICAgICAgICAgIH0pOwogICAgfSwKCiAgICBsaXN0Q29tbWVudHMoKSB7CiAgICAgIGNvbnN0IHBhdGggPSB0aGlzLiRyb3V0ZS5wYXRoOwogICAgICBjb25zdCBhcnIgPSBwYXRoLnNwbGl0KCIvIik7CiAgICAgIGNvbnN0IHBhcmFtID0gewogICAgICAgIGN1cnJlbnQ6IHRoaXMuY3VycmVudCwKICAgICAgICB0eXBlOiB0aGlzLnR5cGUsCiAgICAgICAgc2l6ZTogMTAsCiAgICAgICAgX3RpbWVzdGFtcDogbmV3IERhdGUoKS5nZXRUaW1lKCksCiAgICAgICAgdG9waWNJZDogdGhpcy50eXBlID09PSAxIHx8IHRoaXMudHlwZSA9PT0gMyA/IGFyclsyXSA6IHVuZGVmaW5lZAogICAgICB9OwoKICAgICAgLy9jb25zb2xlLmxvZygi6K+35rGC5Y+C5pWw77yaIiwgcGFyYW0pOwoKICAgICAgY29uc3QgdG9rZW4gPSB0aGlzLiRzdG9yZS5zdGF0ZS50b2tlbiB8fCBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKTsKICAgICAgdGhpcy5heGlvcy5nZXQoIi9hcGkvY29tbWVudHMiLCB7CiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiBgQmVhcmVyICR7dG9rZW59YAogICAgICAgIH0sCiAgICAgICAgcGFyYW1zOiBwYXJhbQogICAgICB9KS50aGVuKCh7ZGF0YX0pID0+IHsKLy8gICAgICAgIGNvbnNvbGUubG9nKCLojrflj5bnmoTor4TorrrmlbDmja7vvJoiLCBkYXRhLmRhdGEucmVjb3JkTGlzdCk7CgogICAgICAgIGlmIChkYXRhLmRhdGEgJiYgZGF0YS5kYXRhLnJlY29yZExpc3QubGVuZ3RoID4gMCkgewogICAgICAgICAgY29uc3QgdHJhbnNmb3JtZWRDb21tZW50cyA9IGRhdGEuZGF0YS5yZWNvcmRMaXN0Lm1hcChjb21tZW50ID0+ICh7CiAgICAgICAgICAgIGlkOiBjb21tZW50LmlkLAogICAgICAgICAgICB1c2VySWQ6IGNvbW1lbnQudXNlcklkLAogICAgICAgICAgICBuaWNrbmFtZTogY29tbWVudC5uaWNrbmFtZSwKICAgICAgICAgICAgYXZhdGFyOiBjb21tZW50LmF2YXRhciwKICAgICAgICAgICAgY29tbWVudENvbnRlbnQ6IGNvbW1lbnQuY29tbWVudENvbnRlbnQsCiAgICAgICAgICAgIGNyZWF0ZVRpbWU6IGNvbW1lbnQuY3JlYXRlVGltZSwKICAgICAgICAgICAgbGlrZUNvdW50OiBjb21tZW50Lmxpa2VDb3VudCwKICAgICAgICAgICAgcmVwbHlDb3VudDogY29tbWVudC5yZXBseUNvdW50LAogICAgICAgICAgICByZXBseURUT0xpc3Q6IGNvbW1lbnQucmVwbHlEVE9MaXN0IHx8IFtdCiAgICAgICAgICB9KSk7CgogICAgICAgICAgaWYgKHRoaXMuY3VycmVudCA9PT0gMSkgewogICAgICAgICAgICB0aGlzLmNvbW1lbnRMaXN0ID0gdHJhbnNmb3JtZWRDb21tZW50czsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoaXMuY29tbWVudExpc3QucHVzaCguLi50cmFuc2Zvcm1lZENvbW1lbnRzKTsKICAgICAgICAgIH0KICAgICAgICAgIHRoaXMuY3VycmVudCsrOwogICAgICAgICAgdGhpcy5jb3VudCA9IGRhdGEuZGF0YS5jb3VudDsKICAgICAgICAgIHRoaXMuJGVtaXQoImdldENvbW1lbnRDb3VudCIsIHRoaXMuY291bnQpOwoKICAgICAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICAgICAgY29uc29sZS5sb2coIuivhOiuuuWIl+ihqOabtOaWsOWujOaIkO+8miIsIHRoaXMuY29tbWVudExpc3QpOwogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGNvbnNvbGUud2Fybigi5rKh5pyJ6I635Y+W5Yiw6K+E6K665pWw5o2u77yMcmVjb3JkTGlzdCDkuLrnqbrjgIIiKTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGVycm9yID0+IHsKICAgICAgICBjb25zb2xlLmVycm9yKCLor7fmsYLor4TorrrmlbDmja7ml7blh7rplJnvvJoiLCBlcnJvcik7CiAgICAgIH0pOwogICAgfQoKICAgICwKICAgIGluc2VydENvbW1lbnQoKSB7CiAgICAgIGNvbnN0IHRva2VuID0gdGhpcy4kc3RvcmUuc3RhdGUudG9rZW4gfHwgbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJyk7CiAgICAgIGlmICghdGhpcy4kc3RvcmUuc3RhdGUudXNlcklkKSB7CiAgICAgICAgY29uc29sZS5sb2coJ1VzZXIgSUQgaXMgbm90IHNldCwgc2V0dGluZyBsb2dpbkZsYWcgdG8gdHJ1ZScpOwogICAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLmxvZ2luRmxhZyA9IHRydWU7CiAgICAgICAgdGhpcy4kdG9hc3Qoe3R5cGU6ICJlcnJvciIsIG1lc3NhZ2U6ICLor7flhYjnmbvlvZUifSk7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CgogICAgICBpZiAodGhpcy5jb21tZW50Q29udGVudC50cmltKCkgPT09ICIiKSB7CiAgICAgICAgdGhpcy4kdG9hc3Qoe3R5cGU6ICJlcnJvciIsIG1lc3NhZ2U6ICLor4TorrrkuI3og73kuLrnqboifSk7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CgogICAgICBjb25zdCByZWcgPSAvXFsuKz9cXS9nOwogICAgICBjb25zdCBmb3JtYXR0ZWRDb250ZW50ID0gdGhpcy5jb21tZW50Q29udGVudC5yZXBsYWNlKHJlZywgKHN0cikgPT4gewogICAgICAgIHJldHVybiAoCiAgICAgICAgICAgICI8aW1nIHNyYz0nIiArCiAgICAgICAgICAgIEVtb2ppTGlzdFtzdHJdICsKICAgICAgICAgICAgIicgd2lkdGg9JzI0JyBoZWlnaHQ9JzI0JyBzdHlsZT0nbWFyZ2luOiAwIDFweDsgdmVydGljYWwtYWxpZ246IHRleHQtYm90dG9tJy8+IgogICAgICAgICk7CiAgICAgIH0pOwoKICAgICAgY29uc3QgcGF0aCA9IHRoaXMuJHJvdXRlLnBhdGg7CiAgICAgIGNvbnN0IGFyciA9IHBhdGguc3BsaXQoIi8iKTsKICAgICAgY29uc3QgY29tbWVudCA9IHsKICAgICAgICBjb21tZW50Q29udGVudDogZm9ybWF0dGVkQ29udGVudCwKICAgICAgICB0eXBlOiB0aGlzLnR5cGUKICAgICAgfTsKICAgICAgaWYgKHRoaXMudHlwZSA9PT0gMSB8fCB0aGlzLnR5cGUgPT09IDMpIHsKICAgICAgICBjb21tZW50LnRvcGljSWQgPSBhcnJbMl07CiAgICAgIH0KCiAgICAgIC8vY29uc29sZS5sb2coIuaPkOS6pOeahOivhOiuuuaVsOaNru+8miIsIGNvbW1lbnQpOwoKICAgICAgdGhpcy5heGlvcy5wb3N0KCIvYXBpL2NvbW1lbnRzIiwgY29tbWVudCwgewogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICdBdXRob3JpemF0aW9uJzogYEJlYXJlciAke3Rva2VufWAKICAgICAgICB9CiAgICAgIH0pLnRoZW4oKHtkYXRhfSkgPT4gewogICAgICAgIGNvbnNvbGUubG9nKCLor4Torrrmj5DkuqTlk43lupTvvJoiLCBkYXRhKTsKCiAgICAgICAgaWYgKGRhdGEuZGF0YSAmJiBkYXRhLmRhdGEucmVjb3JkTGlzdCAmJiBkYXRhLmRhdGEucmVjb3JkTGlzdC5sZW5ndGgpIHsKICAgICAgICAgIGNvbnN0IG5ld0NvbW1lbnQgPSBkYXRhLmRhdGEucmVjb3JkTGlzdC5tYXAoY29tbWVudCA9PiAoewogICAgICAgICAgICBpZDogY29tbWVudC5pZCwKICAgICAgICAgICAgdXNlcklkOiBjb21tZW50LnVzZXJJZCwKICAgICAgICAgICAgbmlja25hbWU6IGNvbW1lbnQubmlja25hbWUsCiAgICAgICAgICAgIGF2YXRhcjogY29tbWVudC5hdmF0YXIsCiAgICAgICAgICAgIGNvbW1lbnRDb250ZW50OiBjb21tZW50LmNvbW1lbnRDb250ZW50LAogICAgICAgICAgICBjcmVhdGVUaW1lOiBjb21tZW50LmNyZWF0ZVRpbWUsCiAgICAgICAgICAgIGxpa2VDb3VudDogY29tbWVudC5saWtlQ291bnQsCiAgICAgICAgICAgIHJlcGx5Q291bnQ6IGNvbW1lbnQucmVwbHlDb3VudCwKICAgICAgICAgICAgcmVwbHlEVE9MaXN0OiBjb21tZW50LnJlcGx5RFRPTGlzdCB8fCBbXQogICAgICAgICAgfSkpWzBdOyAvLyDojrflj5bmlrDor4TorroKCiAgICAgICAgICB0aGlzLmNvbW1lbnRMaXN0LnVuc2hpZnQobmV3Q29tbWVudCk7IC8vIOWwhuaWsOivhOiuuua3u+WKoOWIsOWIl+ihqOeahOmhtumDqAoKICAgICAgICAgIHRoaXMuY29tbWVudENvbnRlbnQgPSAiIjsKCiAgICAgICAgICB0aGlzLmNvdW50Kys7CiAgICAgICAgICB0aGlzLiRlbWl0KCJnZXRDb21tZW50Q291bnQiLCB0aGlzLmNvdW50KTsKCiAgICAgICAgICBjb25zdCBpc1JldmlldyA9IHRoaXMuJHN0b3JlLnN0YXRlLmJsb2dJbmZvLndlYnNpdGVDb25maWcuaXNDb21tZW50UmV2aWV3OwogICAgICAgICAgaWYgKGlzUmV2aWV3KSB7CiAgICAgICAgICAgIHRoaXMuJHRvYXN0KHt0eXBlOiAid2FybmluZyIsIG1lc3NhZ2U6ICLor4TorrrmiJDlip/vvIzmraPlnKjlrqHmoLjkuK0ifSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLiR0b2FzdCh7dHlwZTogInN1Y2Nlc3MiLCBtZXNzYWdlOiAi6K+E6K665oiQ5YqfIn0pOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLiR0b2FzdCh7dHlwZTogImVycm9yIiwgbWVzc2FnZTogIuivhOiuuuaPkOS6pOWksei0pSJ9KTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGVycm9yID0+IHsKICAgICAgICBjb25zb2xlLmVycm9yKCLmj5DkuqTor4Torrrml7blh7rplJnvvJoiLCBlcnJvcik7CiAgICAgICAgdGhpcy4kdG9hc3Qoe3R5cGU6ICJlcnJvciIsIG1lc3NhZ2U6ICLor4Torrrmj5DkuqTlpLHotKXvvIzor7fnqI3lkI7lho3or5UifSk7CiAgICAgIH0pOwogICAgfQoKICAgICwKICAgIGxpa2UoY29tbWVudCkgewogICAgICAvLyDliKTmlq3mmK/lkKblt7LnmbvlvZUKICAgICAgaWYgKCF0aGlzLiRzdG9yZS5zdGF0ZS51c2VySWQpIHsKICAgICAgICB0aGlzLiR0b2FzdCh7dHlwZTogImVycm9yIiwgbWVzc2FnZTogIuivt+WFiOeZu+W9lSJ9KTsKICAgICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5sb2dpbkZsYWcgPSB0cnVlOwogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgICBjb25zdCB0b2tlbiA9IHRoaXMuJHN0b3JlLnN0YXRlLnRva2VuIHx8IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpOwoKICAgICAgLy8g5Y+R6YCB6K+35rGCCiAgICAgIHRoaXMuYXhpb3MKICAgICAgICAgIC5wb3N0KGAvYXBpL2NvbW1lbnRzLyR7Y29tbWVudC5pZH0vbGlrZWAsIHt9LCB7CiAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAnQXV0aG9yaXphdGlvbic6IGBCZWFyZXIgJHt0b2tlbn1gCiAgICAgICAgICAgIH0sCiAgICAgICAgICB9KQogICAgICAgICAgLnRoZW4oKHtkYXRhfSkgPT4gewogICAgICAgICAgICBpZiAoZGF0YS5mbGFnKSB7CiAgICAgICAgICAgICAgY29uc3QgbmV3TGlrZUNvdW50ID0gZGF0YS5kYXRhOyAvLyDlkI7nq6/ov5Tlm57nmoTmlrDngrnotZ7mlbDph48KICAgICAgICAgICAgICB0aGlzLiRzZXQoY29tbWVudCwgImxpa2VDb3VudCIsIG5ld0xpa2VDb3VudCk7IC8vIOabtOaWsOeCuei1nuaVsOmHjwoKICAgICAgICAgICAgICAvLyDmm7TmlrAgVnVleCDkuK3nmoTngrnotZ7nirbmgIEKICAgICAgICAgICAgICBpZiAodGhpcy4kc3RvcmUuc3RhdGUuY29tbWVudExpa2VTZXQuaW5jbHVkZXMoY29tbWVudC5pZC50b1N0cmluZygpKSkgewogICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJjb21tZW50TGlrZSIsIGNvbW1lbnQuaWQpOyAvLyDlj5bmtojngrnotZ4KICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJjb21tZW50TGlrZSIsIGNvbW1lbnQuaWQpOyAvLyDngrnotZ4KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pCiAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4gewogICAgICAgICAgICBjb25zb2xlLmVycm9yKCJFcnJvciBwcm9jZXNzaW5nIGxpa2U6IiwgZXJyb3IpOwogICAgICAgICAgfSk7CiAgICB9CgogICAgLAogICAgcmVsb2FkUmVwbHkoaW5kZXgpIHsKICAgICAgY29uc3QgdG9rZW4gPSB0aGlzLiRzdG9yZS5zdGF0ZS50b2tlbiB8fCBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKTsKICAgICAgdGhpcy5heGlvcwogICAgICAgICAgLmdldCgiL2FwaS9jb21tZW50cy8iICsgdGhpcy5jb21tZW50TGlzdFtpbmRleF0uaWQgKyAiL3JlcGxpZXMiLCB7CiAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAnQXV0aG9yaXphdGlvbic6IGBCZWFyZXIgJHt0b2tlbn1gCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICAgIGN1cnJlbnQ6IDEsCiAgICAgICAgICAgICAgc2l6ZTogNQogICAgICAgICAgICB9CiAgICAgICAgICB9KQogICAgICAgICAgLnRoZW4oKHtkYXRhfSkgPT4gewogICAgICAgICAgICBjb25zb2xlLmxvZygiUmVwbGllcyBkYXRhOiIsIGRhdGEpOyAvLyBEZWJ1ZyBsb2cKICAgICAgICAgICAgaWYgKGRhdGEuZmxhZyAmJiBkYXRhLmRhdGEpIHsKICAgICAgICAgICAgICAvLyDmm7TmlrAgcmVwbHlEVE9MaXN0CiAgICAgICAgICAgICAgdGhpcy4kc2V0KHRoaXMuY29tbWVudExpc3RbaW5kZXhdLCAncmVwbHlEVE9MaXN0JywgZGF0YS5kYXRhKTsKCiAgICAgICAgICAgICAgdGhpcy5jb21tZW50TGlzdFtpbmRleF0ucmVwbHlDb3VudCA9IGRhdGEuZGF0YS5sZW5ndGg7CgogICAgICAgICAgICAgIC8vIOabtOaWsOWIhumhteaMiemSrgogICAgICAgICAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICAgICAgICAgIGlmICh0aGlzLmNvbW1lbnRMaXN0W2luZGV4XS5yZXBseUNvdW50ID4gNSkgewogICAgICAgICAgICAgICAgICB0aGlzLiRyZWZzLnBhZ2luZ1tpbmRleF0uc3R5bGUuZGlzcGxheSA9ICJmbGV4IjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHRoaXMuJHJlZnMuY2hlY2tbaW5kZXhdLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICAgICAgICAgICAgICB0aGlzLiRyZWZzLnJlcGx5W2luZGV4XS4kZWwuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCJGYWlsZWQgdG8gbG9hZCByZXBsaWVzOiIsIGRhdGEubWVzc2FnZSB8fCAiVW5rbm93biBlcnJvciIpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KS5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgY29uc29sZS5lcnJvcigiRXJyb3IgbG9hZGluZyByZXBsaWVzOiIsIGVycm9yKTsgLy8gQWRkIHRoaXMgbGluZQogICAgICB9KTsKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICBpc0xpa2UoKSB7CiAgICAgIHJldHVybiAoY29tbWVudElkKSA9PiB7CiAgICAgICAgdmFyIGNvbW1lbnRMaWtlU2V0ID0gdGhpcy4kc3RvcmUuc3RhdGUuY29tbWVudExpa2VTZXQ7CiAgICAgICAgcmV0dXJuIGNvbW1lbnRMaWtlU2V0LmluZGV4T2YoY29tbWVudElkLnRvU3RyaW5nKCkpICE9PSAtMSA/ICJsaWtlLWFjdGl2ZSIgOiAibGlrZSI7CiAgICAgIH07CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgY29tbWVudExpc3QoKSB7CiAgICAgIGNvbnNvbGUubG9nKCdDb21tZW50TGlzdCB1cGRhdGVkIGluIHdhdGNoZXI6JywgdGhpcy5jb21tZW50TGlzdCk7CiAgICAgIHRoaXMucmVGcmVzaCA9IGZhbHNlOwogICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgICAgdGhpcy5yZUZyZXNoID0gdHJ1ZTsKICAgICAgfSk7CiAgICB9CiAgfQp9Owo="},{"version":3,"sources":["Comment.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwMA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Comment.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div>\n    <div class=\"comment-title\"><i class=\"iconfont iconpinglunzu\"/>评论</div>\n    <!-- 评论框 -->\n    <div class=\"comment-input-wrapper\">\n      <div style=\"display:flex\">\n        <v-avatar size=\"40\">\n          <img\n              v-if=\"this.$store.state.avatar\"\n              :src=\"this.$store.state.avatar\"\n          />\n          <img\n              v-else\n              :src=\"this.$store.state.blogInfo.websiteConfig.touristAvatar\"\n          />\n        </v-avatar>\n        <div style=\"width:100%\" class=\"ml-3\">\n          <div class=\"comment-input\">\n            <textarea\n                class=\"comment-textarea\"\n                v-model=\"commentContent\"\n                placeholder=\"留下点什么吧...\"\n                auto-grow\n                dense\n            />\n          </div>\n          <!-- 操作按钮 -->\n          <div class=\"emoji-container\">\n            <span\n                :class=\"chooseEmoji ? 'emoji-btn-active' : 'emoji-btn'\"\n                @click=\"chooseEmoji = !chooseEmoji\"\n            >\n              <i class=\"iconfont iconbiaoqing\"/>\n            </span>\n            <button\n                @click=\"insertComment\"\n                class=\"upload-btn v-comment-btn\"\n                style=\"margin-left:auto\"\n            >\n              提交\n            </button>\n          </div>\n          <!-- 表情框 -->\n          <emoji @addEmoji=\"addEmoji\" :chooseEmoji=\"chooseEmoji\"/>\n        </div>\n      </div>\n    </div>\n    <!-- 评论详情 -->\n    <div v-if=\"count > 0 && reFresh\">\n      <!-- 评论数量 -->\n      <div class=\"count\">{{ count }} 评论</div>\n      <!-- 评论列表 -->\n      <div\n          style=\"display:flex\"\n          class=\"pt-5\"\n          v-for=\"(item, index) of commentList\"\n          :key=\"item.id\"\n      >\n        <!-- 头像 -->\n        <v-avatar size=\"40\" class=\"comment-avatar\">\n          <img :src=\"item.avatar\"/>\n        </v-avatar>\n        <div class=\"comment-meta\">\n          <!-- 用户名 -->\n          <div class=\"comment-user\">\n            <span v-if=\"!item.webSite\">{{ item.nickname }}</span>\n            <a v-else :href=\"item.webSite\" target=\"_blank\">\n              {{ item.nickname }}\n            </a>\n            <span class=\"blogger-tag\" v-if=\"item.userId == 1\">博主</span>\n          </div>\n          <!-- 信息 -->\n          <div class=\"comment-info\">\n            <!-- 楼层 -->\n            <span style=\"margin-right:10px\">{{ count - index }}楼</span>\n            <!-- 发表时间 -->\n            <span style=\"margin-right:10px\">{{ item.createTime | date }}</span>\n            <!-- 点赞 -->\n            <span\n                :class=\"isLike(item.id) + ' iconfont icondianzan'\"\n                @click=\"like(item)\"\n            />\n            <span v-show=\"item.likeCount > 0\"> {{ item.likeCount }}</span>\n            <!-- 回复 -->\n            <span class=\"reply-btn\" @click=\"replyComment(index, item)\">\n              回复\n            </span>\n          </div>\n          <!-- 评论内容 -->\n          <p v-html=\"item.commentContent\" class=\"comment-content\"></p>\n          <!-- 回复人 -->\n          <div\n              style=\"display:flex\"\n              v-for=\"reply of item.replyDTOList\"\n              :key=\"reply.id\"\n          >\n            <!-- 头像 -->\n            <v-avatar size=\"36\" class=\"comment-avatar\">\n              <img :src=\"reply.avatar\"/>\n            </v-avatar>\n            <div class=\"reply-meta\">\n              <!-- 用户名 -->\n              <div class=\"comment-user\">\n                <span v-if=\"!reply.webSite\">{{ reply.nickname }}</span>\n                <a v-else :href=\"reply.webSite\" target=\"_blank\">\n                  {{ reply.nickname }}\n                </a>\n                <span class=\"blogger-tag\" v-if=\"reply.userId == 1\">博主</span>\n              </div>\n              <!-- 信息 -->\n              <div class=\"comment-info\">\n                <!-- 发表时间 -->\n                <span style=\"margin-right:10px\">\n                  {{ reply.createTime | date }}\n                </span>\n                <!-- 点赞 -->\n                <span\n                    :class=\"isLike(reply.id) + ' iconfont icondianzan'\"\n                    @click=\"like(reply)\"\n                />\n                <span v-show=\"reply.likeCount > 0\"> {{ reply.likeCount }}</span>\n                <!-- 回复 -->\n                <span class=\"reply-btn\" @click=\"replyComment(index, reply)\">\n                  回复\n                </span>\n              </div>\n              <!-- 回复内容 -->\n              <p class=\"comment-content\">\n                <!-- 回复用户名 -->\n                <template v-if=\"reply.replyUserId != item.userId\">\n                  <span v-if=\"!reply.replyWebSite\" class=\"ml-1\">\n                    @{{ reply.replyNickname }}\n                  </span>\n                  <a\n                      v-else\n                      :href=\"reply.replyWebSite\"\n                      target=\"_blank\"\n                      class=\"comment-nickname ml-1\"\n                  >\n                    @{{ reply.replyNickname }}\n                  </a>\n                  ，\n                </template>\n                <span v-html=\"reply.commentContent\"/>\n              </p>\n            </div>\n          </div>\n          <!-- 回复数量 -->\n          <div\n              class=\"mb-3\"\n              style=\"font-size:0.75rem;color:#6d757a\"\n              v-show=\"item.replyCount > 3\"\n              ref=\"check\"\n          >\n            共\n            <b>{{ item.replyCount }}</b>\n            条回复，\n            <span\n                style=\"color:#00a1d6;cursor:pointer\"\n                @click=\"checkReplies(index, item)\"\n            >\n              点击查看\n            </span>\n          </div>\n          <!-- 回复分页 -->\n          <div\n              class=\"mb-3\"\n              style=\"font-size:0.75rem;color:#222;display:none\"\n              ref=\"paging\"\n          >\n            <span style=\"padding-right:10px\">\n              共{{ Math.ceil(item.replyCount / 5) }}页\n            </span>\n            <paging\n                ref=\"page\"\n                :totalPage=\"Math.ceil(item.replyCount / 5)\"\n                :index=\"index\"\n                :commentId=\"item.id\"\n                @changeReplyCurrent=\"changeReplyCurrent\"\n            />\n          </div>\n          <!-- 回复框 -->\n          <Reply :type=\"type\" ref=\"reply\" @reloadReply=\"reloadReply\"/>\n        </div>\n      </div>\n      <!-- 加载按钮 -->\n      <div class=\"load-wrapper\">\n        <v-btn outlined v-if=\"count > commentList.length\" @click=\"listComments\">\n          加载更多...\n        </v-btn>\n      </div>\n    </div>\n    <!-- 没有评论提示 -->\n    <div v-else style=\"padding:1.25rem;text-align:center\">\n      来发评论吧~\n    </div>\n  </div>\n</template>\n\n<script>\nimport Reply from \"./Reply\";\nimport Paging from \"./Paging\";\nimport Emoji from \"./Emoji\";\nimport EmojiList from \"../assets/js/emoji\";\n\nexport default {\n  components: {\n    Reply,\n    Emoji,\n    Paging\n  },\n  props: {\n    type: {\n      type: Number\n    }\n  },\n  created() {\n    //  console.log('Component mounted, fetching comments...');\n    this.listComments();\n  },\n  data: function () {\n    return {\n      reFresh: true,\n      commentContent: \"\",\n      chooseEmoji: false,\n      current: 1,\n      commentList: [],\n      count: 0\n    };\n  },\n  methods: {\n    replyComment(index, item) {\n      this.$refs.reply.forEach(item => {\n        item.$el.style.display = \"none\";\n      });\n      //传值给回复框\n      this.$refs.reply[index].commentContent = \"\";\n      this.$refs.reply[index].nickname = item.nickname;\n      this.$refs.reply[index].replyUserId = item.userId;\n      this.$refs.reply[index].parentId = this.commentList[index].id;\n      this.$refs.reply[index].chooseEmoji = false;\n      this.$refs.reply[index].index = index;\n      this.$refs.reply[index].$el.style.display = \"block\";\n    },\n    addEmoji(key) {\n      this.commentContent += key;\n    },\n    checkReplies(index, item) {\n      this.axios\n          .get(\"/api/comments/\" + item.id + \"/replies\", {\n            params: {current: 1, size: 5}\n          })\n          .then(({data}) => {\n            this.$refs.check[index].style.display = \"none\";\n            item.replyDTOList = data.data;\n            //超过1页才显示分页\n            if (Math.ceil(item.replyCount / 5) > 1) {\n              this.$refs.paging[index].style.display = \"flex\";\n            }\n          });\n    },\n    changeReplyCurrent(current, index, commentId) {\n      //查看下一页回复\n      this.axios\n          .get(\"/api/comments/\" + commentId + \"/replies\", {\n            params: {current: current, size: 5}\n          })\n          .then(({data}) => {\n            this.commentList[index].replyDTOList = data.data;\n          });\n    },\n\n    listComments() {\n      const path = this.$route.path;\n      const arr = path.split(\"/\");\n      const param = {\n        current: this.current,\n        type: this.type,\n        size: 10,\n        _timestamp: new Date().getTime(),\n        topicId: this.type === 1 || this.type === 3 ? arr[2] : undefined\n      };\n\n      //console.log(\"请求参数：\", param);\n\n      const token = this.$store.state.token || localStorage.getItem('token');\n      this.axios.get(\"/api/comments\", {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        },\n        params: param\n      }).then(({data}) => {\n//        console.log(\"获取的评论数据：\", data.data.recordList);\n\n        if (data.data && data.data.recordList.length > 0) {\n          const transformedComments = data.data.recordList.map(comment => ({\n            id: comment.id,\n            userId: comment.userId,\n            nickname: comment.nickname,\n            avatar: comment.avatar,\n            commentContent: comment.commentContent,\n            createTime: comment.createTime,\n            likeCount: comment.likeCount,\n            replyCount: comment.replyCount,\n            replyDTOList: comment.replyDTOList || []\n          }));\n\n          if (this.current === 1) {\n            this.commentList = transformedComments;\n          } else {\n            this.commentList.push(...transformedComments);\n          }\n          this.current++;\n          this.count = data.data.count;\n          this.$emit(\"getCommentCount\", this.count);\n\n          this.$nextTick(() => {\n            console.log(\"评论列表更新完成：\", this.commentList);\n          });\n        } else {\n          console.warn(\"没有获取到评论数据，recordList 为空。\");\n        }\n      }).catch(error => {\n        console.error(\"请求评论数据时出错：\", error);\n      });\n    }\n\n    ,\n    insertComment() {\n      const token = this.$store.state.token || localStorage.getItem('token');\n      if (!this.$store.state.userId) {\n        console.log('User ID is not set, setting loginFlag to true');\n        this.$store.state.loginFlag = true;\n        this.$toast({type: \"error\", message: \"请先登录\"});\n        return false;\n      }\n\n      if (this.commentContent.trim() === \"\") {\n        this.$toast({type: \"error\", message: \"评论不能为空\"});\n        return false;\n      }\n\n      const reg = /\\[.+?\\]/g;\n      const formattedContent = this.commentContent.replace(reg, (str) => {\n        return (\n            \"<img src='\" +\n            EmojiList[str] +\n            \"' width='24' height='24' style='margin: 0 1px; vertical-align: text-bottom'/>\"\n        );\n      });\n\n      const path = this.$route.path;\n      const arr = path.split(\"/\");\n      const comment = {\n        commentContent: formattedContent,\n        type: this.type\n      };\n      if (this.type === 1 || this.type === 3) {\n        comment.topicId = arr[2];\n      }\n\n      //console.log(\"提交的评论数据：\", comment);\n\n      this.axios.post(\"/api/comments\", comment, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      }).then(({data}) => {\n        console.log(\"评论提交响应：\", data);\n\n        if (data.data && data.data.recordList && data.data.recordList.length) {\n          const newComment = data.data.recordList.map(comment => ({\n            id: comment.id,\n            userId: comment.userId,\n            nickname: comment.nickname,\n            avatar: comment.avatar,\n            commentContent: comment.commentContent,\n            createTime: comment.createTime,\n            likeCount: comment.likeCount,\n            replyCount: comment.replyCount,\n            replyDTOList: comment.replyDTOList || []\n          }))[0]; // 获取新评论\n\n          this.commentList.unshift(newComment); // 将新评论添加到列表的顶部\n\n          this.commentContent = \"\";\n\n          this.count++;\n          this.$emit(\"getCommentCount\", this.count);\n\n          const isReview = this.$store.state.blogInfo.websiteConfig.isCommentReview;\n          if (isReview) {\n            this.$toast({type: \"warning\", message: \"评论成功，正在审核中\"});\n          } else {\n            this.$toast({type: \"success\", message: \"评论成功\"});\n          }\n        } else {\n          this.$toast({type: \"error\", message: \"评论提交失败\"});\n        }\n      }).catch(error => {\n        console.error(\"提交评论时出错：\", error);\n        this.$toast({type: \"error\", message: \"评论提交失败，请稍后再试\"});\n      });\n    }\n\n    ,\n    like(comment) {\n      // 判断是否已登录\n      if (!this.$store.state.userId) {\n        this.$toast({type: \"error\", message: \"请先登录\"});\n        this.$store.state.loginFlag = true;\n        return false;\n      }\n      const token = this.$store.state.token || localStorage.getItem('token');\n\n      // 发送请求\n      this.axios\n          .post(`/api/comments/${comment.id}/like`, {}, {\n            headers: {\n              'Authorization': `Bearer ${token}`\n            },\n          })\n          .then(({data}) => {\n            if (data.flag) {\n              const newLikeCount = data.data; // 后端返回的新点赞数量\n              this.$set(comment, \"likeCount\", newLikeCount); // 更新点赞数量\n\n              // 更新 Vuex 中的点赞状态\n              if (this.$store.state.commentLikeSet.includes(comment.id.toString())) {\n                this.$store.commit(\"commentLike\", comment.id); // 取消点赞\n              } else {\n                this.$store.commit(\"commentLike\", comment.id); // 点赞\n              }\n            }\n          })\n          .catch(error => {\n            console.error(\"Error processing like:\", error);\n          });\n    }\n\n    ,\n    reloadReply(index) {\n      const token = this.$store.state.token || localStorage.getItem('token');\n      this.axios\n          .get(\"/api/comments/\" + this.commentList[index].id + \"/replies\", {\n            headers: {\n              'Authorization': `Bearer ${token}`\n            },\n            params: {\n              current: 1,\n              size: 5\n            }\n          })\n          .then(({data}) => {\n            console.log(\"Replies data:\", data); // Debug log\n            if (data.flag && data.data) {\n              // 更新 replyDTOList\n              this.$set(this.commentList[index], 'replyDTOList', data.data);\n\n              this.commentList[index].replyCount = data.data.length;\n\n              // 更新分页按钮\n              this.$nextTick(() => {\n                if (this.commentList[index].replyCount > 5) {\n                  this.$refs.paging[index].style.display = \"flex\";\n                }\n                this.$refs.check[index].style.display = \"none\";\n                this.$refs.reply[index].$el.style.display = \"none\";\n              });\n            } else {\n              console.error(\"Failed to load replies:\", data.message || \"Unknown error\");\n            }\n          }).catch(error => {\n        console.error(\"Error loading replies:\", error); // Add this line\n      });\n    }\n  },\n  computed: {\n    isLike() {\n      return (commentId) => {\n        var commentLikeSet = this.$store.state.commentLikeSet;\n        return commentLikeSet.indexOf(commentId.toString()) !== -1 ? \"like-active\" : \"like\";\n      };\n    }\n  },\n  watch: {\n    commentList() {\n      console.log('CommentList updated in watcher:', this.commentList);\n      this.reFresh = false;\n      this.$nextTick(() => {\n        this.reFresh = true;\n      });\n    }\n  }\n};\n</script>\n\n<style scoped>\n.blogger-tag {\n  background: #ffa51e;\n  font-size: 12px;\n  display: inline-block;\n  border-radius: 2px;\n  color: #fff;\n  padding: 0 5px;\n  margin-left: 6px;\n}\n\n.comment-title {\n  display: flex;\n  align-items: center;\n  font-size: 1.25rem;\n  font-weight: bold;\n  line-height: 40px;\n  margin-bottom: 10px;\n}\n\n.comment-title i {\n  font-size: 1.5rem;\n  margin-right: 5px;\n}\n\n.comment-input-wrapper {\n  border: 1px solid #90939950;\n  border-radius: 4px;\n  padding: 10px;\n  margin: 0 0 10px;\n}\n\n.count {\n  padding: 5px;\n  line-height: 1.75;\n  font-size: 1.25rem;\n  font-weight: bold;\n}\n\n.comment-meta {\n  margin-left: 0.8rem;\n  width: 100%;\n  border-bottom: 1px dashed #f5f5f5;\n}\n\n.reply-meta {\n  margin-left: 0.8rem;\n  width: 100%;\n}\n\n.comment-user {\n  font-size: 14px;\n  line-height: 1.75;\n}\n\n.comment-user a {\n  color: #1abc9c !important;\n  font-weight: 500;\n  transition: 0.3s all;\n}\n\n.comment-nickname {\n  text-decoration: none;\n  color: #1abc9c !important;\n  font-weight: 500;\n}\n\n.comment-info {\n  line-height: 1.75;\n  font-size: 0.75rem;\n  color: #b3b3b3;\n}\n\n.reply-btn {\n  cursor: pointer;\n  float: right;\n  color: #ef2f11;\n}\n\n.comment-content {\n  font-size: 0.875rem;\n  line-height: 1.75;\n  padding-top: 0.625rem;\n  white-space: pre-line;\n  word-wrap: break-word;\n  word-break: break-all;\n}\n\n.comment-avatar {\n  transition: all 0.5s;\n}\n\n.comment-avatar:hover {\n  transform: rotate(360deg);\n}\n\n.like {\n  cursor: pointer;\n  font-size: 0.875rem;\n}\n\n.like:hover {\n  color: #eb5055;\n}\n\n.like-active {\n  cursor: pointer;\n  font-size: 0.875rem;\n  color: #eb5055;\n}\n\n.load-wrapper {\n  margin-top: 10px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.load-wrapper button {\n  background-color: #49b1f5;\n  color: #fff;\n}\n</style>\n"]}]}