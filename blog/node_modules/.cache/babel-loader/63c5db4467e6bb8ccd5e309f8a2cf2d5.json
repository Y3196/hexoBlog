{"remainingRequest":"E:\\sourceCode\\Backend\\blog-master\\blog-vue\\blog\\node_modules\\babel-loader\\lib\\index.js!E:\\sourceCode\\Backend\\blog-master\\blog-vue\\blog\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\sourceCode\\Backend\\blog-master\\blog-vue\\blog\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\sourceCode\\Backend\\blog-master\\blog-vue\\blog\\src\\components\\TalkComment.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\sourceCode\\Backend\\blog-master\\blog-vue\\blog\\src\\components\\TalkComment.vue","mtime":1723689334836},{"path":"E:\\sourceCode\\Backend\\blog-master\\blog-vue\\blog\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\sourceCode\\Backend\\blog-master\\blog-vue\\blog\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\sourceCode\\Backend\\blog-master\\blog-vue\\blog\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\sourceCode\\Backend\\blog-master\\blog-vue\\blog\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluZGV4LW9mIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pbmNsdWRlcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnRyaW0iOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKaW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICJFOlxcc291cmNlQ29kZVxcQmFja2VuZFxcYmxvZy1tYXN0ZXJcXGJsb2ctdnVlXFxibG9nXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheSI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBSZXBseSBmcm9tICIuL1JlcGx5IjsKaW1wb3J0IFBhZ2luZyBmcm9tICIuL1BhZ2luZyI7CmltcG9ydCBFbW9qaSBmcm9tICIuL0Vtb2ppIjsKaW1wb3J0IEVtb2ppTGlzdCBmcm9tICIuLi9hc3NldHMvanMvZW1vamkiOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgUmVwbHk6IFJlcGx5LAogICAgRW1vamk6IEVtb2ppLAogICAgUGFnaW5nOiBQYWdpbmcKICB9LAogIHByb3BzOiB7CiAgICB0eXBlOiB7CiAgICAgIHR5cGU6IE51bWJlcgogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMubGlzdENvbW1lbnRzKCk7CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcmVGcmVzaDogdHJ1ZSwKICAgICAgY29tbWVudENvbnRlbnQ6ICIiLAogICAgICBjaG9vc2VFbW9qaTogZmFsc2UsCiAgICAgIGN1cnJlbnQ6IDEsCiAgICAgIGNvbW1lbnRMaXN0OiBbXSwKICAgICAgY291bnQ6IDAKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICByZXBseUNvbW1lbnQ6IGZ1bmN0aW9uIHJlcGx5Q29tbWVudChpbmRleCwgaXRlbSkgewogICAgICB0aGlzLiRyZWZzLnJlcGx5LmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICBpdGVtLiRlbC5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgICB9KTsgLy/kvKDlgLznu5nlm57lpI3moYYKCiAgICAgIHRoaXMuJHJlZnMucmVwbHlbaW5kZXhdLmNvbW1lbnRDb250ZW50ID0gIiI7CiAgICAgIHRoaXMuJHJlZnMucmVwbHlbaW5kZXhdLm5pY2tuYW1lID0gaXRlbS5uaWNrbmFtZTsKICAgICAgdGhpcy4kcmVmcy5yZXBseVtpbmRleF0ucmVwbHlVc2VySWQgPSBpdGVtLnVzZXJJZDsKICAgICAgdGhpcy4kcmVmcy5yZXBseVtpbmRleF0ucGFyZW50SWQgPSB0aGlzLmNvbW1lbnRMaXN0W2luZGV4XS5pZDsKICAgICAgdGhpcy4kcmVmcy5yZXBseVtpbmRleF0uY2hvb3NlRW1vamkgPSBmYWxzZTsKICAgICAgdGhpcy4kcmVmcy5yZXBseVtpbmRleF0uaW5kZXggPSBpbmRleDsKICAgICAgdGhpcy4kcmVmcy5yZXBseVtpbmRleF0uJGVsLnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOwogICAgfSwKICAgIGFkZEVtb2ppOiBmdW5jdGlvbiBhZGRFbW9qaShrZXkpIHsKICAgICAgdGhpcy5jb21tZW50Q29udGVudCArPSBrZXk7CiAgICB9LAogICAgY2hlY2tSZXBsaWVzOiBmdW5jdGlvbiBjaGVja1JlcGxpZXMoaW5kZXgsIGl0ZW0pIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMuYXhpb3MuZ2V0KCIvYXBpL2NvbW1lbnRzLyIgKyBpdGVtLmlkICsgIi9yZXBsaWVzIiwgewogICAgICAgIHBhcmFtczogewogICAgICAgICAgY3VycmVudDogMSwKICAgICAgICAgIHNpemU6IDUKICAgICAgICB9CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKF9yZWYpIHsKICAgICAgICB2YXIgZGF0YSA9IF9yZWYuZGF0YTsKICAgICAgICBfdGhpcy4kcmVmcy5jaGVja1tpbmRleF0uc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgICAgICBpdGVtLnJlcGx5RFRPTGlzdCA9IGRhdGEuZGF0YTsgLy/otoXov4cx6aG15omN5pi+56S65YiG6aG1CgogICAgICAgIGlmIChNYXRoLmNlaWwoaXRlbS5yZXBseUNvdW50IC8gNSkgPiAxKSB7CiAgICAgICAgICBfdGhpcy4kcmVmcy5wYWdpbmdbaW5kZXhdLnN0eWxlLmRpc3BsYXkgPSAiZmxleCI7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBjaGFuZ2VSZXBseUN1cnJlbnQ6IGZ1bmN0aW9uIGNoYW5nZVJlcGx5Q3VycmVudChjdXJyZW50LCBpbmRleCwgY29tbWVudElkKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgLy/mn6XnnIvkuIvkuIDpobXlm57lpI0KICAgICAgdGhpcy5heGlvcy5nZXQoIi9hcGkvY29tbWVudHMvIiArIGNvbW1lbnRJZCArICIvcmVwbGllcyIsIHsKICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgIGN1cnJlbnQ6IGN1cnJlbnQsCiAgICAgICAgICBzaXplOiA1CiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChfcmVmMikgewogICAgICAgIHZhciBkYXRhID0gX3JlZjIuZGF0YTsKICAgICAgICBfdGhpczIuY29tbWVudExpc3RbaW5kZXhdLnJlcGx5RFRPTGlzdCA9IGRhdGEuZGF0YTsKICAgICAgfSk7CiAgICB9LAogICAgbGlzdENvbW1lbnRzOiBmdW5jdGlvbiBsaXN0Q29tbWVudHMoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgLy/mn6XnnIvor4TorroKICAgICAgdmFyIHBhdGggPSB0aGlzLiRyb3V0ZS5wYXRoOwogICAgICB2YXIgYXJyID0gcGF0aC5zcGxpdCgiLyIpOwogICAgICB2YXIgcGFyYW0gPSB7CiAgICAgICAgY3VycmVudDogdGhpcy5jdXJyZW50LAogICAgICAgIHR5cGU6IHRoaXMudHlwZQogICAgICB9OwoKICAgICAgc3dpdGNoICh0aGlzLnR5cGUpIHsKICAgICAgICBjYXNlIDE6CiAgICAgICAgY2FzZSAzOgogICAgICAgICAgcGFyYW0udG9waWNJZCA9IGFyclsyXTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgYnJlYWs7CiAgICAgIH0KCiAgICAgIHRoaXMuYXhpb3MuZ2V0KCIvYXBpL2NvbW1lbnRzIiwgewogICAgICAgIHBhcmFtczogcGFyYW0KICAgICAgfSkudGhlbihmdW5jdGlvbiAoX3JlZjMpIHsKICAgICAgICB2YXIgZGF0YSA9IF9yZWYzLmRhdGE7CgogICAgICAgIGlmIChfdGhpczMuY3VycmVudCA9PSAxKSB7CiAgICAgICAgICBfdGhpczMuY29tbWVudExpc3QgPSBkYXRhLmRhdGEucmVjb3JkTGlzdDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdmFyIF90aGlzMyRjb21tZW50TGlzdDsKCiAgICAgICAgICAoX3RoaXMzJGNvbW1lbnRMaXN0ID0gX3RoaXMzLmNvbW1lbnRMaXN0KS5wdXNoLmFwcGx5KF90aGlzMyRjb21tZW50TGlzdCwgX3RvQ29uc3VtYWJsZUFycmF5KGRhdGEuZGF0YS5yZWNvcmRMaXN0KSk7CiAgICAgICAgfQoKICAgICAgICBfdGhpczMuY3VycmVudCsrOwogICAgICAgIF90aGlzMy5jb3VudCA9IGRhdGEuZGF0YS5jb3VudDsKCiAgICAgICAgX3RoaXMzLiRlbWl0KCJnZXRDb21tZW50Q291bnQiLCBfdGhpczMuY291bnQpOwogICAgICB9KTsKICAgIH0sCiAgICBpbnNlcnRDb21tZW50OiBmdW5jdGlvbiBpbnNlcnRDb21tZW50KCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIC8v5Yik5pat55m75b2VCiAgICAgIGlmICghdGhpcy4kc3RvcmUuc3RhdGUudXNlcklkKSB7CiAgICAgICAgdGhpcy4kc3RvcmUuc3RhdGUubG9naW5GbGFnID0gdHJ1ZTsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0gLy/liKTnqboKCgogICAgICBpZiAodGhpcy5jb21tZW50Q29udGVudC50cmltKCkgPT0gIiIpIHsKICAgICAgICB0aGlzLiR0b2FzdCh7CiAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgbWVzc2FnZTogIuivhOiuuuS4jeiDveS4uuepuiIKICAgICAgICB9KTsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0gLy/op6PmnpDooajmg4UKCgogICAgICB2YXIgcmVnID0gL1xbLis/XF0vZzsKICAgICAgdGhpcy5jb21tZW50Q29udGVudCA9IHRoaXMuY29tbWVudENvbnRlbnQucmVwbGFjZShyZWcsIGZ1bmN0aW9uIChzdHIpIHsKICAgICAgICByZXR1cm4gIjxpbWcgc3JjPSAnIiArIEVtb2ppTGlzdFtzdHJdICsgIicgd2lkdGg9JzIyJ2hlaWdodD0nMjAnIHN0eWxlPSdwYWRkaW5nOiAwIDFweCcvPiI7CiAgICAgIH0pOyAvL+WPkemAgeivt+axggoKICAgICAgdmFyIHBhdGggPSB0aGlzLiRyb3V0ZS5wYXRoOwogICAgICB2YXIgYXJyID0gcGF0aC5zcGxpdCgiLyIpOwogICAgICB2YXIgY29tbWVudCA9IHsKICAgICAgICBjb21tZW50Q29udGVudDogdGhpcy5jb21tZW50Q29udGVudCwKICAgICAgICB0eXBlOiB0aGlzLnR5cGUKICAgICAgfTsKCiAgICAgIHN3aXRjaCAodGhpcy50eXBlKSB7CiAgICAgICAgY2FzZSAxOgogICAgICAgIGNhc2UgMzoKICAgICAgICAgIGNvbW1lbnQudG9waWNJZCA9IGFyclsyXTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgYnJlYWs7CiAgICAgIH0KCiAgICAgIHZhciB0b2tlbiA9IHRoaXMuJHN0b3JlLnN0YXRlLnRva2VuIHx8IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpOwogICAgICB0aGlzLmNvbW1lbnRDb250ZW50ID0gIiI7CiAgICAgIHZhciBoZWFkZXJzID0gewogICAgICAgICdBdXRob3JpemF0aW9uJzogIkJlYXJlciAiLmNvbmNhdCh0b2tlbikKICAgICAgfTsKICAgICAgdGhpcy5heGlvcy5wb3N0KCIvYXBpL2NvbW1lbnRzIiwgY29tbWVudCwgewogICAgICAgIGhlYWRlcnM6IGhlYWRlcnMKICAgICAgfSkudGhlbihmdW5jdGlvbiAoX3JlZjQpIHsKICAgICAgICB2YXIgZGF0YSA9IF9yZWY0LmRhdGE7CgogICAgICAgIGlmIChkYXRhLmZsYWcpIHsKICAgICAgICAgIC8vIOebtOaOpea3u+WKoOWIsOivhOiuuuWIl+ihqO+8jOaXoOmcgOmHjeaWsOWKoOi9vQogICAgICAgICAgX3RoaXM0LmNvbW1lbnRMaXN0LnVuc2hpZnQoZGF0YS5kYXRhLnJlY29yZExpc3RbMF0pOyAvLyDmn6Xor6LmnIDmlrDor4TorroKCgogICAgICAgICAgX3RoaXM0LmN1cnJlbnQgPSAxOwoKICAgICAgICAgIF90aGlzNC5saXN0Q29tbWVudHMoKTsKCiAgICAgICAgICB2YXIgaXNSZXZpZXcgPSBfdGhpczQuJHN0b3JlLnN0YXRlLmJsb2dJbmZvLndlYnNpdGVDb25maWcuaXNDb21tZW50UmV2aWV3OwoKICAgICAgICAgIGlmIChpc1JldmlldykgewogICAgICAgICAgICBfdGhpczQuJHRvYXN0KHsKICAgICAgICAgICAgICB0eXBlOiAid2Fybm5pbmciLAogICAgICAgICAgICAgIG1lc3NhZ2U6ICLor4TorrrmiJDlip/vvIzmraPlnKjlrqHmoLjkuK0iCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgX3RoaXM0LiR0b2FzdCh7CiAgICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLAogICAgICAgICAgICAgIG1lc3NhZ2U6ICLor4TorrrmiJDlip8iCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpczQuJHRvYXN0KHsKICAgICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgICAgbWVzc2FnZTogZGF0YS5tZXNzYWdlCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGxpa2U6IGZ1bmN0aW9uIGxpa2UoY29tbWVudCkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgIC8vIOWIpOaWreaYr+WQpuW3sueZu+W9lQogICAgICBpZiAoIXRoaXMuJHN0b3JlLnN0YXRlLnVzZXJJZCkgewogICAgICAgIHRoaXMuJHRvYXN0KHsKICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICBtZXNzYWdlOiAi6K+35YWI55m75b2VIgogICAgICAgIH0pOwogICAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLmxvZ2luRmxhZyA9IHRydWU7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CgogICAgICB2YXIgdG9rZW4gPSB0aGlzLiRzdG9yZS5zdGF0ZS50b2tlbiB8fCBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKTsgLy8g5Y+R6YCB6K+35rGCCgogICAgICB0aGlzLmF4aW9zLnBvc3QoIi9hcGkvY29tbWVudHMvIi5jb25jYXQoY29tbWVudC5pZCwgIi9saWtlIiksIHt9LCB7CiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiAiQmVhcmVyICIuY29uY2F0KHRva2VuKQogICAgICAgIH0KICAgICAgfSkudGhlbihmdW5jdGlvbiAoX3JlZjUpIHsKICAgICAgICB2YXIgZGF0YSA9IF9yZWY1LmRhdGE7CgogICAgICAgIGlmIChkYXRhLmZsYWcpIHsKICAgICAgICAgIHZhciBuZXdMaWtlQ291bnQgPSBkYXRhLmRhdGE7IC8vIOWQjuerr+i/lOWbnueahOaWsOeCuei1nuaVsOmHjwoKICAgICAgICAgIF90aGlzNS4kc2V0KGNvbW1lbnQsICJsaWtlQ291bnQiLCBuZXdMaWtlQ291bnQpOyAvLyDmm7TmlrDngrnotZ7mlbDph48KICAgICAgICAgIC8vIOabtOaWsCBWdWV4IOS4reeahOeCuei1nueKtuaAgQoKCiAgICAgICAgICBpZiAoX3RoaXM1LiRzdG9yZS5zdGF0ZS5jb21tZW50TGlrZVNldC5pbmNsdWRlcyhjb21tZW50LmlkLnRvU3RyaW5nKCkpKSB7CiAgICAgICAgICAgIF90aGlzNS4kc3RvcmUuY29tbWl0KCJjb21tZW50TGlrZSIsIGNvbW1lbnQuaWQpOyAvLyDlj5bmtojngrnotZ4KCiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBfdGhpczUuJHN0b3JlLmNvbW1pdCgiY29tbWVudExpa2UiLCBjb21tZW50LmlkKTsgLy8g54K56LWeCgogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5lcnJvcigiRXJyb3IgcHJvY2Vzc2luZyBsaWtlOiIsIGVycm9yKTsKICAgICAgfSk7CiAgICB9LAogICAgcmVsb2FkUmVwbHk6IGZ1bmN0aW9uIHJlbG9hZFJlcGx5KGluZGV4KSB7CiAgICAgIHZhciBfdGhpczYgPSB0aGlzOwoKICAgICAgdGhpcy5heGlvcy5nZXQoIi9hcGkvY29tbWVudHMvIiArIHRoaXMuY29tbWVudExpc3RbaW5kZXhdLmlkICsgIi9yZXBsaWVzIiwgewogICAgICAgIHBhcmFtczogewogICAgICAgICAgY3VycmVudDogdGhpcy4kcmVmcy5wYWdlW2luZGV4XS5jdXJyZW50CiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChfcmVmNikgewogICAgICAgIHZhciBkYXRhID0gX3JlZjYuZGF0YTsKICAgICAgICBfdGhpczYuY29tbWVudExpc3RbaW5kZXhdLnJlcGx5Q291bnQrKzsgLy/lm57lpI3lpKfkuo415p2h5bGV56S65YiG6aG1CgogICAgICAgIGlmIChfdGhpczYuY29tbWVudExpc3RbaW5kZXhdLnJlcGx5Q291bnQgPiA1KSB7CiAgICAgICAgICBfdGhpczYuJHJlZnMucGFnaW5nW2luZGV4XS5zdHlsZS5kaXNwbGF5ID0gImZsZXgiOwogICAgICAgIH0KCiAgICAgICAgX3RoaXM2LiRyZWZzLmNoZWNrW2luZGV4XS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgICAgIF90aGlzNi4kcmVmcy5yZXBseVtpbmRleF0uJGVsLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICAgICAgX3RoaXM2LmNvbW1lbnRMaXN0W2luZGV4XS5yZXBseURUT0xpc3QgPSBkYXRhLmRhdGE7CiAgICAgIH0pOwogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGlzTGlrZTogZnVuY3Rpb24gaXNMaWtlKCkgewogICAgICB2YXIgX3RoaXM3ID0gdGhpczsKCiAgICAgIHJldHVybiBmdW5jdGlvbiAoY29tbWVudElkKSB7CiAgICAgICAgdmFyIGNvbW1lbnRMaWtlU2V0ID0gX3RoaXM3LiRzdG9yZS5zdGF0ZS5jb21tZW50TGlrZVNldDsKICAgICAgICByZXR1cm4gY29tbWVudExpa2VTZXQuaW5kZXhPZihjb21tZW50SWQudG9TdHJpbmcoKSkgIT09IC0xID8gImxpa2UtYWN0aXZlIiA6ICJsaWtlIjsKICAgICAgfTsKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICBjb21tZW50TGlzdDogZnVuY3Rpb24gY29tbWVudExpc3QoKSB7CiAgICAgIHZhciBfdGhpczggPSB0aGlzOwoKICAgICAgdGhpcy5yZUZyZXNoID0gZmFsc2U7CiAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczgucmVGcmVzaCA9IHRydWU7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["TalkComment.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n    <div class=\"comment-title\"><i class=\"iconfont iconpinglunzu\" />评论</div>\n    <!-- 评论框 -->\n    <div class=\"comment-wrapper\">\n      <div style=\"display:flex;width:100%\">\n        <v-avatar size=\"36\">\n          <img\n            v-if=\"this.$store.state.avatar\"\n            :src=\"this.$store.state.avatar\"\n          />\n          <img\n            v-else\n            :src=\"this.$store.state.blogInfo.websiteConfig.touristAvatar\"\n          />\n        </v-avatar>\n        <div style=\"width:100%\" class=\"ml-3\">\n          <div class=\"comment-input\">\n            <textarea\n              class=\"comment-textarea\"\n              v-model=\"commentContent\"\n              placeholder=\"留下点什么吧...\"\n              auto-grow\n              dense\n            />\n          </div>\n          <!-- 操作按钮 -->\n          <div class=\"emoji-container\">\n            <span\n              :class=\"chooseEmoji ? 'emoji-btn-active' : 'emoji-btn'\"\n              @click=\"chooseEmoji = !chooseEmoji\"\n            >\n              <i class=\"iconfont iconbiaoqing\" />\n            </span>\n            <button\n              @click=\"insertComment\"\n              class=\"upload-btn v-comment-btn\"\n              style=\"margin-left:auto\"\n            >\n              提交\n            </button>\n          </div>\n          <!-- 表情框 -->\n          <emoji @addEmoji=\"addEmoji\" :chooseEmoji=\"chooseEmoji\" />\n        </div>\n      </div>\n    </div>\n    <!-- 评论详情 -->\n    <div v-if=\"count > 0 && reFresh\">\n      <!-- 评论列表 -->\n      <div\n        class=\"comment-wrapper\"\n        v-for=\"(item, index) of commentList\"\n        :key=\"item.id\"\n      >\n        <!-- 头像 -->\n        <v-avatar size=\"40\" class=\"comment-avatar\">\n          <img :src=\"item.avatar\" />\n        </v-avatar>\n        <div class=\"comment-meta\">\n          <!-- 用户名 -->\n          <div class=\"comment-user\">\n            <span v-if=\"!item.webSite\">{{ item.nickname }}</span>\n            <a v-else :href=\"item.webSite\" target=\"_blank\">\n              {{ item.nickname }}\n            </a>\n            <v-icon size=\"20\" color=\"#ffa51e\" v-if=\"item.userId == 1\">\n              mdi-check-decagram\n            </v-icon>\n          </div>\n          <!-- 信息 -->\n          <div class=\"comment-info\">\n            <!-- 楼层 -->\n            <span style=\"margin-right:10px\">{{ count - index }}楼</span>\n            <!-- 发表时间 -->\n            <span style=\"margin-right:10px\">{{ item.createTime | date }}</span>\n            <!-- 点赞 -->\n            <span\n              :class=\"isLike(item.id) + ' iconfont icondianzan'\"\n              @click=\"like(item)\"\n            />\n            <span v-show=\"item.likeCount > 0\"> {{ item.likeCount }}</span>\n            <!-- 回复 -->\n            <span class=\"reply-btn\" @click=\"replyComment(index, item)\">\n              回复\n            </span>\n          </div>\n          <!-- 评论内容 -->\n          <p v-html=\"item.commentContent\" class=\"comment-content\"></p>\n          <!-- 回复人 -->\n          <div\n            style=\"display:flex\"\n            v-for=\"reply of item.replyDTOList\"\n            :key=\"reply.id\"\n          >\n            <!-- 头像 -->\n            <v-avatar size=\"36\" class=\"comment-avatar\">\n              <img :src=\"reply.avatar\" />\n            </v-avatar>\n            <div class=\"reply-meta\">\n              <!-- 用户名 -->\n              <div class=\"comment-user\">\n                <span v-if=\"!reply.webSite\">{{ reply.nickname }}</span>\n                <a v-else :href=\"reply.webSite\" target=\"_blank\">\n                  {{ reply.nickname }}\n                </a>\n                <v-icon size=\"20\" color=\"#ffa51e\" v-if=\"reply.userId == 1\">\n                  mdi-check-decagram\n                </v-icon>\n              </div>\n              <!-- 信息 -->\n              <div class=\"comment-info\">\n                <!-- 发表时间 -->\n                <span style=\"margin-right:10px\">\n                  {{ reply.createTime | date }}\n                </span>\n                <!-- 点赞 -->\n                <span\n                  :class=\"isLike(reply.id) + ' iconfont icondianzan'\"\n                  @click=\"like(reply)\"\n                />\n                <span v-show=\"reply.likeCount > 0\"> {{ reply.likeCount }}</span>\n                <!-- 回复 -->\n                <span class=\"reply-btn\" @click=\"replyComment(index, reply)\">\n                  回复\n                </span>\n              </div>\n              <!-- 回复内容 -->\n              <p class=\"comment-content\">\n                <!-- 回复用户名 -->\n                <template v-if=\"reply.replyUserId != item.userId\">\n                  <span v-if=\"!reply.replyWebSite\" class=\"ml-1\">\n                    @{{ reply.replyNickname }}\n                  </span>\n                  <a\n                    v-else\n                    :href=\"reply.replyWebSite\"\n                    target=\"_blank\"\n                    class=\"comment-nickname ml-1\"\n                  >\n                    @{{ reply.replyNickname }}\n                  </a>\n                  ，\n                </template>\n                <span v-html=\"reply.commentContent\" />\n              </p>\n            </div>\n          </div>\n          <!-- 回复数量 -->\n          <div\n            class=\"mb-3\"\n            style=\"font-size:0.75rem;color:#6d757a\"\n            v-show=\"item.replyCount > 3\"\n            ref=\"check\"\n          >\n            共\n            <b>{{ item.replyCount }}</b>\n            条回复，\n            <span\n              style=\"color:#00a1d6;cursor:pointer\"\n              @click=\"checkReplies(index, item)\"\n            >\n              点击查看\n            </span>\n          </div>\n          <!-- 回复分页 -->\n          <div\n            class=\"mb-3\"\n            style=\"font-size:0.75rem;color:#222;display:none\"\n            ref=\"paging\"\n          >\n            <span style=\"padding-right:10px\">\n              共{{ Math.ceil(item.replyCount / 5) }}页\n            </span>\n            <paging\n              ref=\"page\"\n              :totalPage=\"Math.ceil(item.replyCount / 5)\"\n              :index=\"index\"\n              :commentId=\"item.id\"\n              @changeReplyCurrent=\"changeReplyCurrent\"\n            />\n          </div>\n          <!-- 回复框 -->\n          <Reply :type=\"type\" ref=\"reply\" @reloadReply=\"reloadReply\" />\n        </div>\n      </div>\n      <!-- 加载按钮 -->\n      <div class=\"load-wrapper\">\n        <v-btn outlined v-if=\"count > commentList.length\" @click=\"listComments\">\n          加载更多...\n        </v-btn>\n      </div>\n    </div>\n    <!-- 没有评论提示 -->\n    <div v-else style=\"padding:1.25rem;text-align:center\">\n      来发评论吧~\n    </div>\n  </div>\n</template>\n\n<script>\nimport Reply from \"./Reply\";\nimport Paging from \"./Paging\";\nimport Emoji from \"./Emoji\";\nimport EmojiList from \"../assets/js/emoji\";\nexport default {\n  components: {\n    Reply,\n    Emoji,\n    Paging\n  },\n  props: {\n    type: {\n      type: Number\n    }\n  },\n  created() {\n    this.listComments();\n  },\n  data: function() {\n    return {\n      reFresh: true,\n      commentContent: \"\",\n      chooseEmoji: false,\n      current: 1,\n      commentList: [],\n      count: 0\n    };\n  },\n  methods: {\n    replyComment(index, item) {\n      this.$refs.reply.forEach(item => {\n        item.$el.style.display = \"none\";\n      });\n      //传值给回复框\n      this.$refs.reply[index].commentContent = \"\";\n      this.$refs.reply[index].nickname = item.nickname;\n      this.$refs.reply[index].replyUserId = item.userId;\n      this.$refs.reply[index].parentId = this.commentList[index].id;\n      this.$refs.reply[index].chooseEmoji = false;\n      this.$refs.reply[index].index = index;\n      this.$refs.reply[index].$el.style.display = \"block\";\n    },\n    addEmoji(key) {\n      this.commentContent += key;\n    },\n    checkReplies(index, item) {\n      this.axios\n        .get(\"/api/comments/\" + item.id + \"/replies\", {\n          params: { current: 1, size: 5 }\n        })\n        .then(({ data }) => {\n          this.$refs.check[index].style.display = \"none\";\n          item.replyDTOList = data.data;\n          //超过1页才显示分页\n          if (Math.ceil(item.replyCount / 5) > 1) {\n            this.$refs.paging[index].style.display = \"flex\";\n          }\n        });\n    },\n    changeReplyCurrent(current, index, commentId) {\n      //查看下一页回复\n      this.axios\n        .get(\"/api/comments/\" + commentId + \"/replies\", {\n          params: { current: current, size: 5 }\n        })\n        .then(({ data }) => {\n          this.commentList[index].replyDTOList = data.data;\n        });\n    },\n    listComments() {\n      //查看评论\n      const path = this.$route.path;\n      const arr = path.split(\"/\");\n      var param = {\n        current: this.current,\n        type: this.type\n      };\n      switch (this.type) {\n        case 1:\n        case 3:\n          param.topicId = arr[2];\n          break;\n        default:\n          break;\n      }\n      this.axios\n        .get(\"/api/comments\", {\n          params: param\n        })\n        .then(({ data }) => {\n          if (this.current == 1) {\n            this.commentList = data.data.recordList;\n          } else {\n            this.commentList.push(...data.data.recordList);\n          }\n          this.current++;\n          this.count = data.data.count;\n          this.$emit(\"getCommentCount\", this.count);\n        });\n    },\n    insertComment() {\n      //判断登录\n      if (!this.$store.state.userId) {\n        this.$store.state.loginFlag = true;\n        return false;\n      }\n      //判空\n      if (this.commentContent.trim() == \"\") {\n        this.$toast({ type: \"error\", message: \"评论不能为空\" });\n        return false;\n      }\n      //解析表情\n      var reg = /\\[.+?\\]/g;\n      this.commentContent = this.commentContent.replace(reg, function(str) {\n        return (\n          \"<img src= '\" +\n          EmojiList[str] +\n          \"' width='22'height='20' style='padding: 0 1px'/>\"\n        );\n      });\n      //发送请求\n      const path = this.$route.path;\n      const arr = path.split(\"/\");\n      var comment = {\n        commentContent: this.commentContent,\n        type: this.type,\n      };\n      switch (this.type) {\n        case 1:\n        case 3:\n          comment.topicId = arr[2];\n          break;\n        default:\n          break;\n      }\n      const token = this.$store.state.token || localStorage.getItem('token');\n      this.commentContent = \"\";\n      const headers = {\n        'Authorization': `Bearer ${token}`\n      };\n      this.axios.post(\"/api/comments\", comment,{ headers }).then(({ data }) => {\n        if (data.flag) {\n          // 直接添加到评论列表，无需重新加载\n          this.commentList.unshift(data.data.recordList[0]);\n          // 查询最新评论\n          this.current = 1;\n          this.listComments();\n          const isReview = this.$store.state.blogInfo.websiteConfig\n            .isCommentReview;\n          if (isReview) {\n            this.$toast({ type: \"warnning\", message: \"评论成功，正在审核中\" });\n          } else {\n            this.$toast({ type: \"success\", message: \"评论成功\" });\n          }\n        } else {\n          this.$toast({ type: \"error\", message: data.message });\n        }\n      });\n    },\n    like(comment) {\n      // 判断是否已登录\n      if (!this.$store.state.userId) {\n        this.$toast({type: \"error\", message: \"请先登录\"});\n        this.$store.state.loginFlag = true;\n        return false;\n      }\n      const token = this.$store.state.token || localStorage.getItem('token');\n\n      // 发送请求\n      this.axios\n          .post(`/api/comments/${comment.id}/like`, {}, {\n            headers: {\n              'Authorization': `Bearer ${token}`\n            },\n          })\n          .then(({data}) => {\n            if (data.flag) {\n              const newLikeCount = data.data; // 后端返回的新点赞数量\n              this.$set(comment, \"likeCount\", newLikeCount); // 更新点赞数量\n\n              // 更新 Vuex 中的点赞状态\n              if (this.$store.state.commentLikeSet.includes(comment.id.toString())) {\n                this.$store.commit(\"commentLike\", comment.id); // 取消点赞\n              } else {\n                this.$store.commit(\"commentLike\", comment.id); // 点赞\n              }\n            }\n          })\n          .catch(error => {\n            console.error(\"Error processing like:\", error);\n          });\n    },\n    reloadReply(index) {\n      this.axios\n        .get(\"/api/comments/\" + this.commentList[index].id + \"/replies\", {\n          params: {\n            current: this.$refs.page[index].current\n          }\n        })\n        .then(({ data }) => {\n          this.commentList[index].replyCount++;\n          //回复大于5条展示分页\n          if (this.commentList[index].replyCount > 5) {\n            this.$refs.paging[index].style.display = \"flex\";\n          }\n          this.$refs.check[index].style.display = \"none\";\n          this.$refs.reply[index].$el.style.display = \"none\";\n          this.commentList[index].replyDTOList = data.data;\n        });\n    }\n  },\n  computed: {\n    isLike() {\n      return (commentId) => {\n        var commentLikeSet = this.$store.state.commentLikeSet;\n        return commentLikeSet.indexOf(commentId.toString()) !== -1 ? \"like-active\" : \"like\";\n      };\n    }\n  },\n  watch: {\n    commentList() {\n      this.reFresh = false;\n      this.$nextTick(() => {\n        this.reFresh = true;\n      });\n    }\n  }\n};\n</script>\n\n<style scoped>\n.comment-wrapper {\n  margin-top: 20px;\n  display: flex;\n  padding: 16px 20px;\n  border-radius: 10px;\n  background: rgba(255, 255, 255, 0.1);\n  box-shadow: 0 3px 8px 6px rgb(7 17 27 / 6%);\n  transition: all 0.3s ease 0s;\n}\n.comment-wrapper:hover {\n  box-shadow: 0 5px 10px 8px rgb(7 17 27 / 16%);\n  transform: translateY(-3px);\n}\n.comment-title {\n  display: flex;\n  align-items: center;\n  font-size: 1.25rem;\n  font-weight: bold;\n  line-height: 40px;\n  margin-top: 20px;\n}\n.comment-title i {\n  font-size: 1.5rem;\n  margin-right: 5px;\n}\n.count {\n  padding: 5px;\n  line-height: 1.75;\n  font-size: 1.25rem;\n  font-weight: bold;\n}\n.comment-meta {\n  margin-left: 0.8rem;\n  width: 100%;\n  border-bottom: 1px dashed #f5f5f5;\n}\n.reply-meta {\n  margin-left: 0.8rem;\n  width: 100%;\n}\n.comment-user {\n  font-size: 15px;\n  line-height: 1.75;\n}\n.comment-user a {\n  color: #1abc9c !important;\n  font-weight: 500;\n  transition: 0.3s all;\n}\n.comment-nickname {\n  text-decoration: none;\n  color: #1abc9c !important;\n  font-weight: 500;\n}\n.comment-info {\n  line-height: 1.75;\n  font-size: 0.75rem;\n  color: #b3b3b3;\n}\n.reply-btn {\n  cursor: pointer;\n  float: right;\n  color: #ef2f11;\n}\n.comment-content {\n  font-size: 0.875rem;\n  line-height: 1.75;\n  padding-top: 0.625rem;\n  white-space: pre-line;\n  word-wrap: break-word;\n  word-break: break-all;\n}\n.comment-avatar {\n  transition: all 0.5s;\n}\n.comment-avatar:hover {\n  transform: rotate(360deg);\n}\n.like {\n  cursor: pointer;\n  font-size: 0.875rem;\n}\n.like:hover {\n  color: #eb5055;\n}\n.like-active {\n  cursor: pointer;\n  font-size: 0.875rem;\n  color: #eb5055;\n}\n.load-wrapper {\n  margin-top: 10px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.load-wrapper button {\n  background-color: #49b1f5;\n  color: #fff;\n}\n</style>\n"],"sourceRoot":"src/components"}]}