{"remainingRequest":"E:\\sourceCode\\Backend\\blog-master\\blog-vue\\blog\\node_modules\\babel-loader\\lib\\index.js!E:\\sourceCode\\Backend\\blog-master\\blog-vue\\blog\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\sourceCode\\Backend\\blog-master\\blog-vue\\blog\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\sourceCode\\Backend\\blog-master\\blog-vue\\blog\\node_modules\\vue-image-crop-upload\\upload-3.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\sourceCode\\Backend\\blog-master\\blog-vue\\blog\\node_modules\\vue-image-crop-upload\\upload-3.vue","mtime":1723726513108},{"path":"E:\\sourceCode\\Backend\\blog-master\\blog-vue\\blog\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\sourceCode\\Backend\\blog-master\\blog-vue\\blog\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\sourceCode\\Backend\\blog-master\\blog-vue\\blog\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\sourceCode\\Backend\\blog-master\\blog-vue\\blog\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KJ3VzZSBzdHJpY3QnOwoKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmRleC1vZiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIuY29uc3RydWN0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKaW1wb3J0IF90eXBlb2YgZnJvbSAiRTpcXHNvdXJjZUNvZGVcXEJhY2tlbmRcXGJsb2ctbWFzdGVyXFxibG9nLXZ1ZVxcYmxvZ1xcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWUvaGVscGVycy9lc20vdHlwZW9mIjsKaW1wb3J0IGxhbmd1YWdlIGZyb20gJy4vdXRpbHMvbGFuZ3VhZ2UuanMnOwppbXBvcnQgbWltZXMgZnJvbSAnLi91dGlscy9taW1lcy5qcyc7CmltcG9ydCBkYXRhMmJsb2IgZnJvbSAnLi91dGlscy9kYXRhMmJsb2IuanMnOwppbXBvcnQgZWZmZWN0UmlwcGxlIGZyb20gJy4vdXRpbHMvZWZmZWN0UmlwcGxlLmpzJzsKZXhwb3J0IGRlZmF1bHQgewogIHByb3BzOiB7CiAgICAvLyDln5/vvIzkuIrkvKDmlofku7ZuYW1l77yM6Kem5Y+R5LqL5Lu25Lya5bim5LiK77yI5aaC5p6c5LiA5Liq6aG16Z2i5aSa5Liq5Zu+54mH5LiK5Lyg5o6n5Lu277yM5Y+v5Lul5YGa5Yy65YiGCiAgICBmaWVsZDogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgICdkZWZhdWx0JzogJ2F2YXRhcicKICAgIH0sCiAgICAvLyDljp/lkI1rZXnvvIznsbvkvLzkuo5pZO+8jOinpuWPkeS6i+S7tuS8muW4puS4iu+8iOWmguaenOS4gOS4qumhtemdouWkmuS4quWbvueJh+S4iuS8oOaOp+S7tu+8jOWPr+S7peWBmuWMuuWIhgogICAga2k6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICAnZGVmYXVsdCc6ICcwJwogICAgfSwKICAgIC8vIOaYvuekuuivpeaOp+S7tuS4juWQpgogICAgbW9kZWxWYWx1ZTogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICAnZGVmYXVsdCc6IHRydWUKICAgIH0sCiAgICAvLyDkuIrkvKDlnLDlnYAKICAgIHVybDogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgICdkZWZhdWx0JzogJycKICAgIH0sCiAgICAvLyDlhbbku5bopoHkuIrkvKDmlofku7bpmYTluKbnmoTmlbDmja7vvIzlr7nosaHmoLzlvI8KICAgIHBhcmFtczogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgICdkZWZhdWx0JzogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgIH0KICAgIH0sCiAgICAvL0FkZCBjdXN0b20gaGVhZGVycwogICAgaGVhZGVyczogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgICdkZWZhdWx0JzogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgIH0KICAgIH0sCiAgICAvLyDliaroo4Hlm77niYfnmoTlrr0KICAgIHdpZHRoOiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgZGVmYXVsdDogMjAwCiAgICB9LAogICAgLy8g5Ymq6KOB5Zu+54mH55qE6auYCiAgICBoZWlnaHQ6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiAyMDAKICAgIH0sCiAgICAvLyDkuI3mmL7npLrml4vovazlip/og70KICAgIG5vUm90YXRlOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IHRydWUKICAgIH0sCiAgICAvLyDkuI3pooTop4jlnIblvaLlm77niYcKICAgIG5vQ2lyY2xlOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9LAogICAgLy8g5LiN6aKE6KeI5pa55b2i5Zu+54mHCiAgICBub1NxdWFyZTogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIC8vIOWNleaWh+S7tuWkp+Wwj+mZkOWItgogICAgbWF4U2l6ZTogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgICdkZWZhdWx0JzogMTAyNDAKICAgIH0sCiAgICAvLyDor63oqIDnsbvlnosKICAgIGxhbmdUeXBlOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgJ2RlZmF1bHQnOiAnemgnCiAgICB9LAogICAgLy8g6K+t6KiA5YyFCiAgICBsYW5nRXh0OiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgJ2RlZmF1bHQnOiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgfQogICAgfSwKICAgIC8vIOWbvueJh+S4iuS8oOagvOW8jwogICAgaW1nRm9ybWF0OiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgJ2RlZmF1bHQnOiAncG5nJwogICAgfSwKICAgIC8vIOWbvueJh+iDjOaZryBqcGfmg4XlhrXkuIvnlJ/mlYgKICAgIGltZ0JnYzogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgICdkZWZhdWx0JzogJyNmZmYnCiAgICB9LAogICAgLy8g5piv5ZCm5pSv5oyB6Leo5Z+fCiAgICB3aXRoQ3JlZGVudGlhbHM6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgJ2RlZmF1bHQnOiBmYWxzZQogICAgfSwKICAgIG1ldGhvZDogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgICdkZWZhdWx0JzogJ1BPU1QnCiAgICB9LAogICAgaW5pdGlhbEltZ1VybDogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgICdkZWZhdWx0JzogJycKICAgIH0sCiAgICBhbGxvd0ltZ0Zvcm1hdDogewogICAgICB0eXBlOiBBcnJheSwKICAgICAgJ2RlZmF1bHQnOiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4gWydnaWYnLCAnanBnJywgJ3BuZyddOwogICAgICB9CiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgdmFyIHRoYXQgPSB0aGlzLAogICAgICAgIGltZ0Zvcm1hdCA9IHRoYXQuaW1nRm9ybWF0LAogICAgICAgIGFsbG93SW1nRm9ybWF0ID0gdGhhdC5hbGxvd0ltZ0Zvcm1hdCwKICAgICAgICBsYW5nVHlwZSA9IHRoYXQubGFuZ1R5cGUsCiAgICAgICAgbGFuZ0V4dCA9IHRoYXQubGFuZ0V4dCwKICAgICAgICB3aWR0aCA9IHRoYXQud2lkdGgsCiAgICAgICAgaGVpZ2h0ID0gdGhhdC5oZWlnaHQsCiAgICAgICAgaXNTdXBwb3J0ZWQgPSB0cnVlLAogICAgICAgIHRlbXBJbWdGb3JtYXQgPSBhbGxvd0ltZ0Zvcm1hdC5pbmRleE9mKGltZ0Zvcm1hdCkgPT09IC0xID8gJ2pwZycgOiBpbWdGb3JtYXQsCiAgICAgICAgbGFuZyA9IGxhbmd1YWdlW2xhbmdUeXBlXSA/IGxhbmd1YWdlW2xhbmdUeXBlXSA6IGxhbmd1YWdlWydlbiddLAogICAgICAgIG1pbWUgPSBtaW1lc1t0ZW1wSW1nRm9ybWF0XTsgLy8g6KeE6IyD5Zu+54mH5qC85byPCiAgICAvLyB0aGF0LmltZ0Zvcm1hdCA9IHRlbXBJbWdGb3JtYXQ7CgogICAgaWYgKGxhbmdFeHQpIHsKICAgICAgT2JqZWN0LmFzc2lnbihsYW5nLCBsYW5nRXh0KTsKICAgIH0KCiAgICBpZiAodHlwZW9mIEZvcm1EYXRhICE9ICdmdW5jdGlvbicpIHsKICAgICAgaXNTdXBwb3J0ZWQgPSBmYWxzZTsKICAgIH0KCiAgICByZXR1cm4gewogICAgICAvLyDlm77niYfnmoRtaW1lCiAgICAgIG1pbWU6IG1pbWUsCiAgICAgIC8vIOivreiogOWMhQogICAgICBsYW5nOiBsYW5nLAogICAgICAvLyDmtY/op4jlmajmmK/lkKbmlK/mjIHor6Xmjqfku7YKICAgICAgaXNTdXBwb3J0ZWQ6IGlzU3VwcG9ydGVkLAogICAgICAvLyDmtY/op4jlmajmmK/lkKbmlK/mjIHop6blsY/kuovku7YKICAgICAgaXNTdXBwb3J0VG91Y2g6IGRvY3VtZW50Lmhhc093blByb3BlcnR5KCJvbnRvdWNoc3RhcnQiKSwKICAgICAgLy8g5q2l6aqkCiAgICAgIHN0ZXA6IDEsCiAgICAgIC8vMemAieaLqeaWh+S7tiAy5Ymq6KOBIDPkuIrkvKAKICAgICAgLy8g5LiK5Lyg54q25oCB5Y+K6L+b5bqmCiAgICAgIGxvYWRpbmc6IDAsCiAgICAgIC8vMOacquW8gOWniyAx5q2j5ZyoIDLmiJDlip8gM+mUmeivrwogICAgICBwcm9ncmVzczogMCwKICAgICAgLy8g5piv5ZCm5pyJ6ZSZ6K+v5Y+K6ZSZ6K+v5L+h5oGvCiAgICAgIGhhc0Vycm9yOiBmYWxzZSwKICAgICAgZXJyb3JNc2c6ICcnLAogICAgICAvLyDpnIDmsYLlm77lrr3pq5jmr5QKICAgICAgcmF0aW86IHdpZHRoIC8gaGVpZ2h0LAogICAgICAvLyDljp/lm77lnLDlnYDjgIHnlJ/miJDlm77niYflnLDlnYAKICAgICAgc291cmNlSW1nOiBudWxsLAogICAgICBzb3VyY2VJbWdVcmw6IHRoaXMuaW5pdGlhbEltZ1VybCwKICAgICAgY3JlYXRlSW1nVXJsOiB0aGlzLmluaXRpYWxJbWdVcmwsCiAgICAgIC8vIOWOn+WbvueJh+aLluWKqOS6i+S7tuWIneWni+WAvAogICAgICBzb3VyY2VJbWdNb3VzZURvd246IHsKICAgICAgICBvbjogZmFsc2UsCiAgICAgICAgbVg6IDAsCiAgICAgICAgLy/pvKDmoIfmjInkuIvnmoTlnZDmoIcKICAgICAgICBtWTogMCwKICAgICAgICB4OiAwLAogICAgICAgIC8vc2NhbGXljp/lm77lnZDmoIcKICAgICAgICB5OiAwCiAgICAgIH0sCiAgICAgIC8vIOeUn+aIkOWbvueJh+mihOiniOeahOWuueWZqOWkp+WwjwogICAgICBwcmV2aWV3Q29udGFpbmVyOiB7CiAgICAgICAgd2lkdGg6IDEwMCwKICAgICAgICBoZWlnaHQ6IDEwMAogICAgICB9LAogICAgICAvLyDljp/lm77lrrnlmajlrr3pq5gKICAgICAgc291cmNlSW1nQ29udGFpbmVyOiB7CiAgICAgICAgLy8gc2ljCiAgICAgICAgd2lkdGg6IDI0MCwKICAgICAgICBoZWlnaHQ6IDE4NCAvLyDlpoLmnpznlJ/miJDlm77mr5TkvovkuI7mraTkuIDoh7TkvJrlh7rnjrBidWfvvIzlhYjmlLnmiJDnibnmrornmoTmoLzlvI/lkKfvvIzlk4jlk4jlk4gKCiAgICAgIH0sCiAgICAgIC8vIOWOn+WbvuWxleekuuWxnuaApwogICAgICBzY2FsZTogewogICAgICAgIHpvb21BZGRPbjogZmFsc2UsCiAgICAgICAgLy/mjInpkq7nvKnmlL7kuovku7blvIDlkK8KICAgICAgICB6b29tU3ViT246IGZhbHNlLAogICAgICAgIC8v5oyJ6ZKu57yp5pS+5LqL5Lu25byA5ZCvCiAgICAgICAgcmFuZ2U6IDEsCiAgICAgICAgLy/mnIDlpKcxMDAKICAgICAgICB4OiAwLAogICAgICAgIHk6IDAsCiAgICAgICAgd2lkdGg6IDAsCiAgICAgICAgaGVpZ2h0OiAwLAogICAgICAgIG1heFdpZHRoOiAwLAogICAgICAgIG1heEhlaWdodDogMCwKICAgICAgICBtaW5XaWR0aDogMCwKICAgICAgICAvL+acgOWuvQogICAgICAgIG1pbkhlaWdodDogMCwKICAgICAgICBuYXR1cmFsV2lkdGg6IDAsCiAgICAgICAgLy/ljp/lrr0KICAgICAgICBuYXR1cmFsSGVpZ2h0OiAwCiAgICAgIH0KICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgLy8g6L+b5bqm5p2h5qC35byPCiAgICBwcm9ncmVzc1N0eWxlOiBmdW5jdGlvbiBwcm9ncmVzc1N0eWxlKCkgewogICAgICB2YXIgcHJvZ3Jlc3MgPSB0aGlzLnByb2dyZXNzOwogICAgICByZXR1cm4gewogICAgICAgIHdpZHRoOiBwcm9ncmVzcyArICclJwogICAgICB9OwogICAgfSwKICAgIC8vIOWOn+Wbvuagt+W8jwogICAgc291cmNlSW1nU3R5bGU6IGZ1bmN0aW9uIHNvdXJjZUltZ1N0eWxlKCkgewogICAgICB2YXIgc2NhbGUgPSB0aGlzLnNjYWxlLAogICAgICAgICAgc291cmNlSW1nTWFza2luZyA9IHRoaXMuc291cmNlSW1nTWFza2luZywKICAgICAgICAgIHRvcCA9IHNjYWxlLnkgKyBzb3VyY2VJbWdNYXNraW5nLnkgKyAncHgnLAogICAgICAgICAgbGVmdCA9IHNjYWxlLnggKyBzb3VyY2VJbWdNYXNraW5nLnggKyAncHgnOwogICAgICByZXR1cm4gewogICAgICAgIHRvcDogdG9wLAogICAgICAgIGxlZnQ6IGxlZnQsCiAgICAgICAgd2lkdGg6IHNjYWxlLndpZHRoICsgJ3B4JywKICAgICAgICBoZWlnaHQ6IHNjYWxlLmhlaWdodCArICdweCcgLy8g5YW85a65IE9wZXJhCgogICAgICB9OwogICAgfSwKICAgIC8vIOWOn+WbvuiSmeeJiOWxnuaApwogICAgc291cmNlSW1nTWFza2luZzogZnVuY3Rpb24gc291cmNlSW1nTWFza2luZygpIHsKICAgICAgdmFyIHdpZHRoID0gdGhpcy53aWR0aCwKICAgICAgICAgIGhlaWdodCA9IHRoaXMuaGVpZ2h0LAogICAgICAgICAgcmF0aW8gPSB0aGlzLnJhdGlvLAogICAgICAgICAgc291cmNlSW1nQ29udGFpbmVyID0gdGhpcy5zb3VyY2VJbWdDb250YWluZXIsCiAgICAgICAgICBzaWMgPSBzb3VyY2VJbWdDb250YWluZXIsCiAgICAgICAgICBzaWNSYXRpbyA9IHNpYy53aWR0aCAvIHNpYy5oZWlnaHQsCiAgICAgICAgICB4ID0gMCwKICAgICAgICAgIHkgPSAwLAogICAgICAgICAgdyA9IHNpYy53aWR0aCwKICAgICAgICAgIGggPSBzaWMuaGVpZ2h0LAogICAgICAgICAgc2NhbGUgPSAxOwoKICAgICAgaWYgKHJhdGlvIDwgc2ljUmF0aW8pIHsKICAgICAgICBzY2FsZSA9IHNpYy5oZWlnaHQgLyBoZWlnaHQ7CiAgICAgICAgdyA9IHNpYy5oZWlnaHQgKiByYXRpbzsKICAgICAgICB4ID0gKHNpYy53aWR0aCAtIHcpIC8gMjsKICAgICAgfQoKICAgICAgaWYgKHJhdGlvID4gc2ljUmF0aW8pIHsKICAgICAgICBzY2FsZSA9IHNpYy53aWR0aCAvIHdpZHRoOwogICAgICAgIGggPSBzaWMud2lkdGggLyByYXRpbzsKICAgICAgICB5ID0gKHNpYy5oZWlnaHQgLSBoKSAvIDI7CiAgICAgIH0KCiAgICAgIHJldHVybiB7CiAgICAgICAgc2NhbGU6IHNjYWxlLAogICAgICAgIC8vIOiSmeeJiOebuOWvuemcgOaxguWuvemrmOeahOe8qeaUvgogICAgICAgIHg6IHgsCiAgICAgICAgeTogeSwKICAgICAgICB3aWR0aDogdywKICAgICAgICBoZWlnaHQ6IGgKICAgICAgfTsKICAgIH0sCiAgICAvLyDljp/lm77pga7nvanmoLflvI8KICAgIHNvdXJjZUltZ1NoYWRlU3R5bGU6IGZ1bmN0aW9uIHNvdXJjZUltZ1NoYWRlU3R5bGUoKSB7CiAgICAgIHZhciBzb3VyY2VJbWdNYXNraW5nID0gdGhpcy5zb3VyY2VJbWdNYXNraW5nLAogICAgICAgICAgc291cmNlSW1nQ29udGFpbmVyID0gdGhpcy5zb3VyY2VJbWdDb250YWluZXIsCiAgICAgICAgICBzaWMgPSBzb3VyY2VJbWdDb250YWluZXIsCiAgICAgICAgICBzaW0gPSBzb3VyY2VJbWdNYXNraW5nLAogICAgICAgICAgdyA9IHNpbS53aWR0aCA9PSBzaWMud2lkdGggPyBzaW0ud2lkdGggOiAoc2ljLndpZHRoIC0gc2ltLndpZHRoKSAvIDIsCiAgICAgICAgICBoID0gc2ltLmhlaWdodCA9PSBzaWMuaGVpZ2h0ID8gc2ltLmhlaWdodCA6IChzaWMuaGVpZ2h0IC0gc2ltLmhlaWdodCkgLyAyOwogICAgICByZXR1cm4gewogICAgICAgIHdpZHRoOiB3ICsgJ3B4JywKICAgICAgICBoZWlnaHQ6IGggKyAncHgnCiAgICAgIH07CiAgICB9LAogICAgcHJldmlld1N0eWxlOiBmdW5jdGlvbiBwcmV2aWV3U3R5bGUoKSB7CiAgICAgIHZhciB3aWR0aCA9IHRoaXMud2lkdGgsCiAgICAgICAgICBoZWlnaHQgPSB0aGlzLmhlaWdodCwKICAgICAgICAgIHJhdGlvID0gdGhpcy5yYXRpbywKICAgICAgICAgIHByZXZpZXdDb250YWluZXIgPSB0aGlzLnByZXZpZXdDb250YWluZXIsCiAgICAgICAgICBwYyA9IHByZXZpZXdDb250YWluZXIsCiAgICAgICAgICB3ID0gcGMud2lkdGgsCiAgICAgICAgICBoID0gcGMuaGVpZ2h0LAogICAgICAgICAgcGNSYXRpbyA9IHcgLyBoOwoKICAgICAgaWYgKHJhdGlvIDwgcGNSYXRpbykgewogICAgICAgIHcgPSBwYy5oZWlnaHQgKiByYXRpbzsKICAgICAgfQoKICAgICAgaWYgKHJhdGlvID4gcGNSYXRpbykgewogICAgICAgIGggPSBwYy53aWR0aCAvIHJhdGlvOwogICAgICB9CgogICAgICByZXR1cm4gewogICAgICAgIHdpZHRoOiB3ICsgJ3B4JywKICAgICAgICBoZWlnaHQ6IGggKyAncHgnCiAgICAgIH07CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgbW9kZWxWYWx1ZTogZnVuY3Rpb24gbW9kZWxWYWx1ZShuZXdWYWx1ZSkgewogICAgICBpZiAobmV3VmFsdWUgJiYgdGhpcy5sb2FkaW5nICE9IDEpIHsKICAgICAgICB0aGlzLnJlc2V0KCk7CiAgICAgIH0KICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICAvLyDnu5HlrprmjInplK5lc2PpmpDol4/mraTmj5Lku7bkuovku7YKICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdGhpcy5oYW5kbGVFc2NDbG9zZSk7CiAgfSwKICBiZWZvcmVVbm1vdW50OiBmdW5jdGlvbiBiZWZvcmVVbm1vdW50KCkgewogICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLmhhbmRsZUVzY0Nsb3NlKTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICBpZiAodGhpcy5zb3VyY2VJbWdVcmwpIHsKICAgICAgdGhpcy5zdGFydENyb3AoKTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGhhbmRsZUVzY0Nsb3NlOiBmdW5jdGlvbiBoYW5kbGVFc2NDbG9zZShlKSB7CiAgICAgIGlmICh0aGlzLm1vZGVsVmFsdWUgJiYgKGUua2V5ID09ICdFc2NhcGUnIHx8IGUua2V5Q29kZSA9PSAyNykpIHsKICAgICAgICB0aGlzLm9mZigpOwogICAgICB9CiAgICB9LAogICAgLy8g54K55Ye75rOi57q55pWI5p6cCiAgICByaXBwbGU6IGZ1bmN0aW9uIHJpcHBsZShlKSB7CiAgICAgIGVmZmVjdFJpcHBsZShlKTsKICAgIH0sCiAgICAvLyDlhbPpl63mjqfku7YKICAgIG9mZjogZnVuY3Rpb24gb2ZmKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMuJGVtaXQoJ3VwZGF0ZTptb2RlbFZhbHVlJywgZmFsc2UpOwoKICAgICAgICBpZiAoX3RoaXMuc3RlcCA9PSAzICYmIF90aGlzLmxvYWRpbmcgPT0gMikgewogICAgICAgICAgX3RoaXMuc2V0U3RlcCgxKTsKICAgICAgICB9CiAgICAgIH0sIDIwMCk7CiAgICB9LAogICAgLy8g6K6+572u5q2l6aqkCiAgICBzZXRTdGVwOiBmdW5jdGlvbiBzZXRTdGVwKG5vKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgLy8g5bu25pe25piv5Li65LqG5pi+56S65Yqo55S75pWI5p6c5ZGi77yM5ZOI5ZOI5ZOICiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMi5zdGVwID0gbm87CiAgICAgIH0sIDIwMCk7CiAgICB9LAoKICAgIC8qIOWbvueJh+mAieaLqeWMuuWfn+WHveaVsOe7keWumgogICAgIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovCiAgICBwcmV2ZW50RGVmYXVsdDogZnVuY3Rpb24gcHJldmVudERlZmF1bHQoZSkgewogICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0sCiAgICBoYW5kbGVDbGljazogZnVuY3Rpb24gaGFuZGxlQ2xpY2soZSkgewogICAgICBpZiAodGhpcy5sb2FkaW5nICE9PSAxKSB7CiAgICAgICAgaWYgKGUudGFyZ2V0ICE9PSB0aGlzLiRyZWZzLmZpbGVpbnB1dCkgewogICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwoKICAgICAgICAgIGlmIChkb2N1bWVudC5hY3RpdmVFbGVtZW50ICE9PSB0aGlzLiRyZWZzKSB7CiAgICAgICAgICAgIHRoaXMuJHJlZnMuZmlsZWlucHV0LmNsaWNrKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgaGFuZGxlQ2hhbmdlOiBmdW5jdGlvbiBoYW5kbGVDaGFuZ2UoZSkgewogICAgICBlLnByZXZlbnREZWZhdWx0KCk7CgogICAgICBpZiAodGhpcy5sb2FkaW5nICE9PSAxKSB7CiAgICAgICAgdmFyIGZpbGVzID0gZS50YXJnZXQuZmlsZXMgfHwgZS5kYXRhVHJhbnNmZXIuZmlsZXM7CiAgICAgICAgdGhpcy5yZXNldCgpOwoKICAgICAgICBpZiAodGhpcy5jaGVja0ZpbGUoZmlsZXNbMF0pKSB7CiAgICAgICAgICB0aGlzLnNldFNvdXJjZUltZyhmaWxlc1swXSk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAoKICAgIC8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovCiAgICAvLyDmo4DmtYvpgInmi6nnmoTmlofku7bmmK/lkKblkIjpgIIKICAgIGNoZWNrRmlsZTogZnVuY3Rpb24gY2hlY2tGaWxlKGZpbGUpIHsKICAgICAgdmFyIHRoYXQgPSB0aGlzLAogICAgICAgICAgbGFuZyA9IHRoYXQubGFuZywKICAgICAgICAgIG1heFNpemUgPSB0aGF0Lm1heFNpemU7IC8vIOS7hemZkOWbvueJhwoKICAgICAgaWYgKGZpbGUudHlwZS5pbmRleE9mKCdpbWFnZScpID09PSAtMSkgewogICAgICAgIHRoYXQuaGFzRXJyb3IgPSB0cnVlOwogICAgICAgIHRoYXQuZXJyb3JNc2cgPSBsYW5nLmVycm9yLm9ubHlJbWc7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9IC8vIOi2heWHuuWkp+WwjwoKCiAgICAgIGlmIChmaWxlLnNpemUgLyAxMDI0ID4gbWF4U2l6ZSkgewogICAgICAgIHRoYXQuaGFzRXJyb3IgPSB0cnVlOwogICAgICAgIHRoYXQuZXJyb3JNc2cgPSBsYW5nLmVycm9yLm91dE9mU2l6ZSArIG1heFNpemUgKyAna2InOwogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQoKICAgICAgcmV0dXJuIHRydWU7CiAgICB9LAogICAgLy8g6YeN572u5o6n5Lu2CiAgICByZXNldDogZnVuY3Rpb24gcmVzZXQoKSB7CiAgICAgIHZhciB0aGF0ID0gdGhpczsKICAgICAgdGhhdC5sb2FkaW5nID0gMDsKICAgICAgdGhhdC5oYXNFcnJvciA9IGZhbHNlOwogICAgICB0aGF0LmVycm9yTXNnID0gJyc7CiAgICAgIHRoYXQucHJvZ3Jlc3MgPSAwOwogICAgfSwKICAgIC8vIOiuvue9ruWbvueJh+a6kAogICAgc2V0U291cmNlSW1nOiBmdW5jdGlvbiBzZXRTb3VyY2VJbWcoZmlsZSkgewogICAgICB0aGlzLiRlbWl0KCdzcmMtZmlsZS1zZXQnLCBmaWxlLm5hbWUsIGZpbGUudHlwZSwgZmlsZS5zaXplKTsKICAgICAgdmFyIHRoYXQgPSB0aGlzLAogICAgICAgICAgZnIgPSBuZXcgRmlsZVJlYWRlcigpOwoKICAgICAgZnIub25sb2FkID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICB0aGF0LnNvdXJjZUltZ1VybCA9IGZyLnJlc3VsdDsKICAgICAgICB0aGF0LnN0YXJ0Q3JvcCgpOwogICAgICB9OwoKICAgICAgZnIucmVhZEFzRGF0YVVSTChmaWxlKTsKICAgIH0sCiAgICAvLyDliaroo4HliY3lh4blpIflt6XkvZwKICAgIHN0YXJ0Q3JvcDogZnVuY3Rpb24gc3RhcnRDcm9wKCkgewogICAgICB2YXIgdGhhdCA9IHRoaXMsCiAgICAgICAgICB3aWR0aCA9IHRoYXQud2lkdGgsCiAgICAgICAgICBoZWlnaHQgPSB0aGF0LmhlaWdodCwKICAgICAgICAgIHJhdGlvID0gdGhhdC5yYXRpbywKICAgICAgICAgIHNjYWxlID0gdGhhdC5zY2FsZSwKICAgICAgICAgIHNvdXJjZUltZ1VybCA9IHRoYXQuc291cmNlSW1nVXJsLAogICAgICAgICAgc291cmNlSW1nTWFza2luZyA9IHRoYXQuc291cmNlSW1nTWFza2luZywKICAgICAgICAgIGxhbmcgPSB0aGF0LmxhbmcsCiAgICAgICAgICBzaW0gPSBzb3VyY2VJbWdNYXNraW5nLAogICAgICAgICAgaW1nID0gbmV3IEltYWdlKCk7CiAgICAgIGltZy5zcmMgPSBzb3VyY2VJbWdVcmw7CgogICAgICBpbWcub25sb2FkID0gZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBuV2lkdGggPSBpbWcubmF0dXJhbFdpZHRoLAogICAgICAgICAgICBuSGVpZ2h0ID0gaW1nLm5hdHVyYWxIZWlnaHQsCiAgICAgICAgICAgIG5SYXRpbyA9IG5XaWR0aCAvIG5IZWlnaHQsCiAgICAgICAgICAgIHcgPSBzaW0ud2lkdGgsCiAgICAgICAgICAgIGggPSBzaW0uaGVpZ2h0LAogICAgICAgICAgICB4ID0gMCwKICAgICAgICAgICAgeSA9IDA7IC8vIOWbvueJh+WDj+e0oOS4jei+vuaghwoKICAgICAgICBpZiAobldpZHRoIDwgd2lkdGggfHwgbkhlaWdodCA8IGhlaWdodCkgewogICAgICAgICAgdGhhdC5oYXNFcnJvciA9IHRydWU7CiAgICAgICAgICB0aGF0LmVycm9yTXNnID0gbGFuZy5lcnJvci5sb3dlc3RQeCArIHdpZHRoICsgJyonICsgaGVpZ2h0OwogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KCiAgICAgICAgaWYgKHJhdGlvID4gblJhdGlvKSB7CiAgICAgICAgICBoID0gdyAvIG5SYXRpbzsKICAgICAgICAgIHkgPSAoc2ltLmhlaWdodCAtIGgpIC8gMjsKICAgICAgICB9CgogICAgICAgIGlmIChyYXRpbyA8IG5SYXRpbykgewogICAgICAgICAgdyA9IGggKiBuUmF0aW87CiAgICAgICAgICB4ID0gKHNpbS53aWR0aCAtIHcpIC8gMjsKICAgICAgICB9CgogICAgICAgIHNjYWxlLnJhbmdlID0gMDsKICAgICAgICBzY2FsZS54ID0geDsKICAgICAgICBzY2FsZS55ID0geTsKICAgICAgICBzY2FsZS53aWR0aCA9IHc7CiAgICAgICAgc2NhbGUuaGVpZ2h0ID0gaDsKICAgICAgICBzY2FsZS5taW5XaWR0aCA9IHc7CiAgICAgICAgc2NhbGUubWluSGVpZ2h0ID0gaDsKICAgICAgICBzY2FsZS5tYXhXaWR0aCA9IG5XaWR0aCAqIHNpbS5zY2FsZTsKICAgICAgICBzY2FsZS5tYXhIZWlnaHQgPSBuSGVpZ2h0ICogc2ltLnNjYWxlOwogICAgICAgIHNjYWxlLm5hdHVyYWxXaWR0aCA9IG5XaWR0aDsKICAgICAgICBzY2FsZS5uYXR1cmFsSGVpZ2h0ID0gbkhlaWdodDsKICAgICAgICB0aGF0LnNvdXJjZUltZyA9IGltZzsKICAgICAgICB0aGF0LmNyZWF0ZUltZygpOwogICAgICAgIHRoYXQuc2V0U3RlcCgyKTsKICAgICAgfTsKICAgIH0sCiAgICAvLyDpvKDmoIfmjInkuIvlm77niYflh4blpIfnp7vliqgKICAgIGltZ1N0YXJ0TW92ZTogZnVuY3Rpb24gaW1nU3RhcnRNb3ZlKGUpIHsKICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOyAvLyDmlK/mjIHop6bmkbjkuovku7bvvIzliJnpvKDmoIfkuovku7bml6DmlYgKCiAgICAgIGlmICh0aGlzLmlzU3VwcG9ydFRvdWNoICYmICFlLnRhcmdldFRvdWNoZXMpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KCiAgICAgIHZhciBldCA9IGUudGFyZ2V0VG91Y2hlcyA/IGUudGFyZ2V0VG91Y2hlc1swXSA6IGUsCiAgICAgICAgICBzb3VyY2VJbWdNb3VzZURvd24gPSB0aGlzLnNvdXJjZUltZ01vdXNlRG93biwKICAgICAgICAgIHNjYWxlID0gdGhpcy5zY2FsZSwKICAgICAgICAgIHNpbWQgPSBzb3VyY2VJbWdNb3VzZURvd247CiAgICAgIHNpbWQubVggPSBldC5zY3JlZW5YOwogICAgICBzaW1kLm1ZID0gZXQuc2NyZWVuWTsKICAgICAgc2ltZC54ID0gc2NhbGUueDsKICAgICAgc2ltZC55ID0gc2NhbGUueTsKICAgICAgc2ltZC5vbiA9IHRydWU7CiAgICB9LAogICAgLy8g6byg5qCH5oyJ5LiL54q25oCB5LiL56e75Yqo77yM5Zu+54mH56e75YqoCiAgICBpbWdNb3ZlOiBmdW5jdGlvbiBpbWdNb3ZlKGUpIHsKICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOyAvLyDmlK/mjIHop6bmkbjkuovku7bvvIzliJnpvKDmoIfkuovku7bml6DmlYgKCiAgICAgIGlmICh0aGlzLmlzU3VwcG9ydFRvdWNoICYmICFlLnRhcmdldFRvdWNoZXMpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KCiAgICAgIHZhciBldCA9IGUudGFyZ2V0VG91Y2hlcyA/IGUudGFyZ2V0VG91Y2hlc1swXSA6IGUsCiAgICAgICAgICBfdGhpcyRzb3VyY2VJbWdNb3VzZUQgPSB0aGlzLnNvdXJjZUltZ01vdXNlRG93biwKICAgICAgICAgIG9uID0gX3RoaXMkc291cmNlSW1nTW91c2VELm9uLAogICAgICAgICAgbVggPSBfdGhpcyRzb3VyY2VJbWdNb3VzZUQubVgsCiAgICAgICAgICBtWSA9IF90aGlzJHNvdXJjZUltZ01vdXNlRC5tWSwKICAgICAgICAgIHggPSBfdGhpcyRzb3VyY2VJbWdNb3VzZUQueCwKICAgICAgICAgIHkgPSBfdGhpcyRzb3VyY2VJbWdNb3VzZUQueSwKICAgICAgICAgIHNjYWxlID0gdGhpcy5zY2FsZSwKICAgICAgICAgIHNvdXJjZUltZ01hc2tpbmcgPSB0aGlzLnNvdXJjZUltZ01hc2tpbmcsCiAgICAgICAgICBzaW0gPSBzb3VyY2VJbWdNYXNraW5nLAogICAgICAgICAgblggPSBldC5zY3JlZW5YLAogICAgICAgICAgblkgPSBldC5zY3JlZW5ZLAogICAgICAgICAgZFggPSBuWCAtIG1YLAogICAgICAgICAgZFkgPSBuWSAtIG1ZLAogICAgICAgICAgclggPSB4ICsgZFgsCiAgICAgICAgICByWSA9IHkgKyBkWTsKICAgICAgaWYgKCFvbikgcmV0dXJuOwoKICAgICAgaWYgKHJYID4gMCkgewogICAgICAgIHJYID0gMDsKICAgICAgfQoKICAgICAgaWYgKHJZID4gMCkgewogICAgICAgIHJZID0gMDsKICAgICAgfQoKICAgICAgaWYgKHJYIDwgc2ltLndpZHRoIC0gc2NhbGUud2lkdGgpIHsKICAgICAgICByWCA9IHNpbS53aWR0aCAtIHNjYWxlLndpZHRoOwogICAgICB9CgogICAgICBpZiAoclkgPCBzaW0uaGVpZ2h0IC0gc2NhbGUuaGVpZ2h0KSB7CiAgICAgICAgclkgPSBzaW0uaGVpZ2h0IC0gc2NhbGUuaGVpZ2h0OwogICAgICB9CgogICAgICBzY2FsZS54ID0gclg7CiAgICAgIHNjYWxlLnkgPSByWTsKICAgIH0sCiAgICAvLyDpobrml7bpkojml4vovazlm77niYcKICAgIHJvdGF0ZUltZzogZnVuY3Rpb24gcm90YXRlSW1nKGUpIHsKICAgICAgdmFyIHNvdXJjZUltZyA9IHRoaXMuc291cmNlSW1nLAogICAgICAgICAgX3RoaXMkc2NhbGUgPSB0aGlzLnNjYWxlLAogICAgICAgICAgbmF0dXJhbFdpZHRoID0gX3RoaXMkc2NhbGUubmF0dXJhbFdpZHRoLAogICAgICAgICAgbmF0dXJhbEhlaWdodCA9IF90aGlzJHNjYWxlLm5hdHVyYWxIZWlnaHQsCiAgICAgICAgICB3aWR0aCA9IG5hdHVyYWxIZWlnaHQsCiAgICAgICAgICBoZWlnaHQgPSBuYXR1cmFsV2lkdGgsCiAgICAgICAgICBjYW52YXMgPSB0aGlzLiRyZWZzLmNhbnZhcywKICAgICAgICAgIGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpOwogICAgICBjYW52YXMud2lkdGggPSB3aWR0aDsKICAgICAgY2FudmFzLmhlaWdodCA9IGhlaWdodDsKICAgICAgY3R4LmNsZWFyUmVjdCgwLCAwLCB3aWR0aCwgaGVpZ2h0KTsKICAgICAgY3R4LmZpbGxTdHlsZSA9ICdyZ2JhKDAsMCwwLDApJzsKICAgICAgY3R4LmZpbGxSZWN0KDAsIDAsIHdpZHRoLCBoZWlnaHQpOwogICAgICBjdHgudHJhbnNsYXRlKHdpZHRoLCAwKTsKICAgICAgY3R4LnJvdGF0ZShNYXRoLlBJICogOTAgLyAxODApOwogICAgICBjdHguZHJhd0ltYWdlKHNvdXJjZUltZywgMCwgMCwgbmF0dXJhbFdpZHRoLCBuYXR1cmFsSGVpZ2h0KTsKICAgICAgdmFyIGltZ1VybCA9IGNhbnZhcy50b0RhdGFVUkwobWltZXNbJ3BuZyddKTsKICAgICAgdGhpcy5zb3VyY2VJbWdVcmwgPSBpbWdVcmw7CiAgICAgIHRoaXMuc3RhcnRDcm9wKCk7CiAgICB9LAogICAgaGFuZGxlTW91c2VXaGVlbDogZnVuY3Rpb24gaGFuZGxlTW91c2VXaGVlbChlKSB7CiAgICAgIGUgPSBlIHx8IHdpbmRvdy5ldmVudDsKICAgICAgdmFyIHNjYWxlID0gdGhpcy5zY2FsZTsKCiAgICAgIGlmIChlLndoZWVsRGVsdGEpIHsKICAgICAgICAvL+WIpOaWrea1j+iniOWZqElF77yM6LC35q2M5ruR6L2u5LqL5Lu2CiAgICAgICAgaWYgKGUud2hlZWxEZWx0YSA+IDApIHsKICAgICAgICAgIC8v5b2T5ruR6L2u5ZCR5LiK5rua5Yqo5pe2CiAgICAgICAgICB0aGlzLnpvb21JbWcoc2NhbGUucmFuZ2UgPj0gMTAwID8gMTAwIDogKytzY2FsZS5yYW5nZSk7CiAgICAgICAgfQoKICAgICAgICBpZiAoZS53aGVlbERlbHRhIDwgMCkgewogICAgICAgICAgdGhpcy56b29tSW1nKHNjYWxlLnJhbmdlIDw9IDAgPyAwIDogLS1zY2FsZS5yYW5nZSk7CiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKGUuZGV0YWlsKSB7CiAgICAgICAgLy9GaXJlZm945ruR6L2u5LqL5Lu2CiAgICAgICAgaWYgKGUuZGV0YWlsID4gMCkgewogICAgICAgICAgLy/lvZPmu5Hova7lkJHkuIrmu5rliqjml7YKICAgICAgICAgIHRoaXMuem9vbUltZyhzY2FsZS5yYW5nZSA+PSAxMDAgPyAxMDAgOiArK3NjYWxlLnJhbmdlKTsKICAgICAgICB9CgogICAgICAgIGlmIChlLmRldGFpbCA8IDApIHsKICAgICAgICAgIHRoaXMuem9vbUltZyhzY2FsZS5yYW5nZSA8PSAwID8gMCA6IC0tc2NhbGUucmFuZ2UpOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIC8vIOaMiemSruaMieS4i+W8gOWni+aUvuWkpwogICAgc3RhcnRab29tQWRkOiBmdW5jdGlvbiBzdGFydFpvb21BZGQoZSkgewogICAgICB2YXIgdGhhdCA9IHRoaXMsCiAgICAgICAgICBzY2FsZSA9IHRoYXQuc2NhbGU7CiAgICAgIHNjYWxlLnpvb21BZGRPbiA9IHRydWU7CgogICAgICBmdW5jdGlvbiB6b29tKCkgewogICAgICAgIGlmIChzY2FsZS56b29tQWRkT24pIHsKICAgICAgICAgIHZhciByYW5nZSA9IHNjYWxlLnJhbmdlID49IDEwMCA/IDEwMCA6ICsrc2NhbGUucmFuZ2U7CiAgICAgICAgICB0aGF0Lnpvb21JbWcocmFuZ2UpOwogICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHpvb20oKTsKICAgICAgICAgIH0sIDYwKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHpvb20oKTsKICAgIH0sCiAgICAvLyDmjInpkq7mnb7lvIDmiJbnp7vlvIDlj5bmtojmlL7lpKcKICAgIGVuZFpvb21BZGQ6IGZ1bmN0aW9uIGVuZFpvb21BZGQoZSkgewogICAgICB0aGlzLnNjYWxlLnpvb21BZGRPbiA9IGZhbHNlOwogICAgfSwKICAgIC8vIOaMiemSruaMieS4i+W8gOWni+e8qeWwjwogICAgc3RhcnRab29tU3ViOiBmdW5jdGlvbiBzdGFydFpvb21TdWIoZSkgewogICAgICB2YXIgdGhhdCA9IHRoaXMsCiAgICAgICAgICBzY2FsZSA9IHRoYXQuc2NhbGU7CiAgICAgIHNjYWxlLnpvb21TdWJPbiA9IHRydWU7CgogICAgICBmdW5jdGlvbiB6b29tKCkgewogICAgICAgIGlmIChzY2FsZS56b29tU3ViT24pIHsKICAgICAgICAgIHZhciByYW5nZSA9IHNjYWxlLnJhbmdlIDw9IDAgPyAwIDogLS1zY2FsZS5yYW5nZTsKICAgICAgICAgIHRoYXQuem9vbUltZyhyYW5nZSk7CiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgem9vbSgpOwogICAgICAgICAgfSwgNjApOwogICAgICAgIH0KICAgICAgfQoKICAgICAgem9vbSgpOwogICAgfSwKICAgIC8vIOaMiemSruadvuW8gOaIluenu+W8gOWPlua2iOe8qeWwjwogICAgZW5kWm9vbVN1YjogZnVuY3Rpb24gZW5kWm9vbVN1YihlKSB7CiAgICAgIHZhciBzY2FsZSA9IHRoaXMuc2NhbGU7CiAgICAgIHNjYWxlLnpvb21TdWJPbiA9IGZhbHNlOwogICAgfSwKICAgIHpvb21DaGFuZ2U6IGZ1bmN0aW9uIHpvb21DaGFuZ2UoZSkgewogICAgICB0aGlzLnpvb21JbWcoZS50YXJnZXQudmFsdWUpOwogICAgfSwKICAgIC8vIOe8qeaUvuWOn+WbvgogICAgem9vbUltZzogZnVuY3Rpb24gem9vbUltZyhuZXdSYW5nZSkgewogICAgICB2YXIgdGhhdCA9IHRoaXMsCiAgICAgICAgICBzb3VyY2VJbWdNYXNraW5nID0gdGhpcy5zb3VyY2VJbWdNYXNraW5nLAogICAgICAgICAgc291cmNlSW1nTW91c2VEb3duID0gdGhpcy5zb3VyY2VJbWdNb3VzZURvd24sCiAgICAgICAgICBzY2FsZSA9IHRoaXMuc2NhbGUsCiAgICAgICAgICBtYXhXaWR0aCA9IHNjYWxlLm1heFdpZHRoLAogICAgICAgICAgbWF4SGVpZ2h0ID0gc2NhbGUubWF4SGVpZ2h0LAogICAgICAgICAgbWluV2lkdGggPSBzY2FsZS5taW5XaWR0aCwKICAgICAgICAgIG1pbkhlaWdodCA9IHNjYWxlLm1pbkhlaWdodCwKICAgICAgICAgIHdpZHRoID0gc2NhbGUud2lkdGgsCiAgICAgICAgICBoZWlnaHQgPSBzY2FsZS5oZWlnaHQsCiAgICAgICAgICB4ID0gc2NhbGUueCwKICAgICAgICAgIHkgPSBzY2FsZS55LAogICAgICAgICAgcmFuZ2UgPSBzY2FsZS5yYW5nZSwKICAgICAgICAgIHNpbSA9IHNvdXJjZUltZ01hc2tpbmcsCiAgICAgICAgICBzV2lkdGggPSBzaW0ud2lkdGgsCiAgICAgICAgICBzSGVpZ2h0ID0gc2ltLmhlaWdodCwKICAgICAgICAgIG5XaWR0aCA9IG1pbldpZHRoICsgKG1heFdpZHRoIC0gbWluV2lkdGgpICogbmV3UmFuZ2UgLyAxMDAsCiAgICAgICAgICBuSGVpZ2h0ID0gbWluSGVpZ2h0ICsgKG1heEhlaWdodCAtIG1pbkhlaWdodCkgKiBuZXdSYW5nZSAvIDEwMCwKICAgICAgICAgIG5YID0gc1dpZHRoIC8gMiAtIG5XaWR0aCAvIHdpZHRoICogKHNXaWR0aCAvIDIgLSB4KSwKICAgICAgICAgIG5ZID0gc0hlaWdodCAvIDIgLSBuSGVpZ2h0IC8gaGVpZ2h0ICogKHNIZWlnaHQgLyAyIC0geSk7IC8vIOWIpOaWreaWsOWdkOagh+aYr+WQpui2hei/h+iSmeeJiOmZkOWItgoKICAgICAgaWYgKG5YID4gMCkgewogICAgICAgIG5YID0gMDsKICAgICAgfQoKICAgICAgaWYgKG5ZID4gMCkgewogICAgICAgIG5ZID0gMDsKICAgICAgfQoKICAgICAgaWYgKG5YIDwgc1dpZHRoIC0gbldpZHRoKSB7CiAgICAgICAgblggPSBzV2lkdGggLSBuV2lkdGg7CiAgICAgIH0KCiAgICAgIGlmIChuWSA8IHNIZWlnaHQgLSBuSGVpZ2h0KSB7CiAgICAgICAgblkgPSBzSGVpZ2h0IC0gbkhlaWdodDsKICAgICAgfSAvLyDotYvlgLzlpITnkIYKCgogICAgICBzY2FsZS54ID0gblg7CiAgICAgIHNjYWxlLnkgPSBuWTsKICAgICAgc2NhbGUud2lkdGggPSBuV2lkdGg7CiAgICAgIHNjYWxlLmhlaWdodCA9IG5IZWlnaHQ7CiAgICAgIHNjYWxlLnJhbmdlID0gbmV3UmFuZ2U7CiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIGlmIChzY2FsZS5yYW5nZSA9PSBuZXdSYW5nZSkgewogICAgICAgICAgdGhhdC5jcmVhdGVJbWcoKTsKICAgICAgICB9CiAgICAgIH0sIDMwMCk7CiAgICB9LAogICAgLy8g55Sf5oiQ6ZyA5rGC5Zu+54mHCiAgICBjcmVhdGVJbWc6IGZ1bmN0aW9uIGNyZWF0ZUltZyhlKSB7CiAgICAgIHZhciB0aGF0ID0gdGhpcywKICAgICAgICAgIGltZ0Zvcm1hdCA9IHRoYXQuaW1nRm9ybWF0LAogICAgICAgICAgaW1nQmdjID0gdGhhdC5pbWdCZ2MsCiAgICAgICAgICBtaW1lID0gdGhhdC5taW1lLAogICAgICAgICAgc291cmNlSW1nID0gdGhhdC5zb3VyY2VJbWcsCiAgICAgICAgICBfdGhhdCRzY2FsZSA9IHRoYXQuc2NhbGUsCiAgICAgICAgICB4ID0gX3RoYXQkc2NhbGUueCwKICAgICAgICAgIHkgPSBfdGhhdCRzY2FsZS55LAogICAgICAgICAgd2lkdGggPSBfdGhhdCRzY2FsZS53aWR0aCwKICAgICAgICAgIGhlaWdodCA9IF90aGF0JHNjYWxlLmhlaWdodCwKICAgICAgICAgIHNjYWxlID0gdGhhdC5zb3VyY2VJbWdNYXNraW5nLnNjYWxlLAogICAgICAgICAgY2FudmFzID0gdGhhdC4kcmVmcy5jYW52YXMsCiAgICAgICAgICBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTsKCiAgICAgIGlmIChlKSB7CiAgICAgICAgLy8g5Y+W5raI6byg5qCH5oyJ5LiL56e75Yqo54q25oCBCiAgICAgICAgdGhhdC5zb3VyY2VJbWdNb3VzZURvd24ub24gPSBmYWxzZTsKICAgICAgfQoKICAgICAgY2FudmFzLndpZHRoID0gdGhhdC53aWR0aDsKICAgICAgY2FudmFzLmhlaWdodCA9IHRoYXQuaGVpZ2h0OwogICAgICBjdHguY2xlYXJSZWN0KDAsIDAsIHRoYXQud2lkdGgsIHRoYXQuaGVpZ2h0KTsKCiAgICAgIGlmIChpbWdGb3JtYXQgPT0gJ3BuZycpIHsKICAgICAgICBjdHguZmlsbFN0eWxlID0gJ3JnYmEoMCwwLDAsMCknOwogICAgICB9IGVsc2UgewogICAgICAgIC8vIOWmguaenGpwZyDkuLrpgI/mmI7ljLrln5/orr7nva7og4zmma/vvIzpu5jorqTnmb3oibIKICAgICAgICBjdHguZmlsbFN0eWxlID0gaW1nQmdjOwogICAgICB9CgogICAgICBjdHguZmlsbFJlY3QoMCwgMCwgdGhhdC53aWR0aCwgdGhhdC5oZWlnaHQpOwogICAgICBjdHguZHJhd0ltYWdlKHNvdXJjZUltZywgeCAvIHNjYWxlLCB5IC8gc2NhbGUsIHdpZHRoIC8gc2NhbGUsIGhlaWdodCAvIHNjYWxlKTsKICAgICAgdGhhdC5jcmVhdGVJbWdVcmwgPSBjYW52YXMudG9EYXRhVVJMKG1pbWUpOwogICAgfSwKICAgIHByZXBhcmVVcGxvYWQ6IGZ1bmN0aW9uIHByZXBhcmVVcGxvYWQoKSB7CiAgICAgIHZhciB1cmwgPSB0aGlzLnVybCwKICAgICAgICAgIGNyZWF0ZUltZ1VybCA9IHRoaXMuY3JlYXRlSW1nVXJsLAogICAgICAgICAgZmllbGQgPSB0aGlzLmZpZWxkLAogICAgICAgICAga2kgPSB0aGlzLmtpOwogICAgICB0aGlzLiRlbWl0KCdjcm9wLXN1Y2Nlc3MnLCBjcmVhdGVJbWdVcmwsIGZpZWxkLCBraSk7CgogICAgICBpZiAodHlwZW9mIHVybCA9PSAnc3RyaW5nJyAmJiB1cmwpIHsKICAgICAgICB0aGlzLnVwbG9hZCgpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMub2ZmKCk7CiAgICAgIH0KICAgIH0sCiAgICAvLyDkuIrkvKDlm77niYcKICAgIHVwbG9hZDogZnVuY3Rpb24gdXBsb2FkKCkgewogICAgICB2YXIgdGhhdCA9IHRoaXMsCiAgICAgICAgICBsYW5nID0gdGhpcy5sYW5nLAogICAgICAgICAgaW1nRm9ybWF0ID0gdGhpcy5pbWdGb3JtYXQsCiAgICAgICAgICBtaW1lID0gdGhpcy5taW1lLAogICAgICAgICAgdXJsID0gdGhpcy51cmwsCiAgICAgICAgICBwYXJhbXMgPSB0aGlzLnBhcmFtcywKICAgICAgICAgIGhlYWRlcnMgPSB0aGlzLmhlYWRlcnMsCiAgICAgICAgICBmaWVsZCA9IHRoaXMuZmllbGQsCiAgICAgICAgICBraSA9IHRoaXMua2ksCiAgICAgICAgICBjcmVhdGVJbWdVcmwgPSB0aGlzLmNyZWF0ZUltZ1VybCwKICAgICAgICAgIHdpdGhDcmVkZW50aWFscyA9IHRoaXMud2l0aENyZWRlbnRpYWxzLAogICAgICAgICAgbWV0aG9kID0gdGhpcy5tZXRob2QsCiAgICAgICAgICBmbURhdGEgPSBuZXcgRm9ybURhdGEoKTsgLy8g5re75Yqg5YW25LuW5Y+C5pWwCgogICAgICBpZiAoX3R5cGVvZihwYXJhbXMpID09ICdvYmplY3QnICYmIHBhcmFtcykgewogICAgICAgIE9iamVjdC5rZXlzKHBhcmFtcykuZm9yRWFjaChmdW5jdGlvbiAoaykgewogICAgICAgICAgZm1EYXRhLmFwcGVuZChrLCBwYXJhbXNba10pOwogICAgICAgIH0pOwogICAgICB9IC8vIOWwhmZpZWxk55qE5re75Yqg5pS+5Yiw6KGo5Y2V5Z+f55qE5pyA5ZCO77yM5Lul5pSv5oyB6Zi/6YeM5LqRT1NT55qE6KGo5Y2V5LiK5LygCgoKICAgICAgZm1EYXRhLmFwcGVuZChmaWVsZCwgZGF0YTJibG9iKGNyZWF0ZUltZ1VybCwgbWltZSksIGZpZWxkICsgJy4nICsgaW1nRm9ybWF0KTsgLy8g55uR5ZCs6L+b5bqm5Zue6LCDCgogICAgICB2YXIgdXBsb2FkUHJvZ3Jlc3MgPSBmdW5jdGlvbiB1cGxvYWRQcm9ncmVzcyhldmVudCkgewogICAgICAgIGlmIChldmVudC5sZW5ndGhDb21wdXRhYmxlKSB7CiAgICAgICAgICB0aGF0LnByb2dyZXNzID0gMTAwICogTWF0aC5yb3VuZChldmVudC5sb2FkZWQpIC8gZXZlbnQudG90YWw7CiAgICAgICAgfQogICAgICB9OyAvLyDkuIrkvKDmlofku7YKCgogICAgICB0aGF0LnJlc2V0KCk7CiAgICAgIHRoYXQubG9hZGluZyA9IDE7CiAgICAgIHRoYXQuc2V0U3RlcCgzKTsKICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgIHZhciBjbGllbnQgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTsKICAgICAgICBjbGllbnQub3BlbihtZXRob2QsIHVybCwgdHJ1ZSk7CiAgICAgICAgY2xpZW50LndpdGhDcmVkZW50aWFscyA9IHdpdGhDcmVkZW50aWFsczsKCiAgICAgICAgY2xpZW50Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGlmICh0aGlzLnJlYWR5U3RhdGUgIT09IDQpIHsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQoKICAgICAgICAgIGlmICh0aGlzLnN0YXR1cyA9PT0gMjAwIHx8IHRoaXMuc3RhdHVzID09PSAyMDEgfHwgdGhpcy5zdGF1cyA9PT0gMjAyKSB7CiAgICAgICAgICAgIHJlc29sdmUoSlNPTi5wYXJzZSh0aGlzLnJlc3BvbnNlVGV4dCkpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmVqZWN0KHRoaXMuc3RhdHVzKTsKICAgICAgICAgIH0KICAgICAgICB9OwoKICAgICAgICBjbGllbnQudXBsb2FkLmFkZEV2ZW50TGlzdGVuZXIoInByb2dyZXNzIiwgdXBsb2FkUHJvZ3Jlc3MsIGZhbHNlKTsgLy/nm5HlkKzov5vluqYKICAgICAgICAvLyDorr7nva5oZWFkZXIKCiAgICAgICAgaWYgKF90eXBlb2YoaGVhZGVycykgPT0gJ29iamVjdCcgJiYgaGVhZGVycykgewogICAgICAgICAgT2JqZWN0LmtleXMoaGVhZGVycykuZm9yRWFjaChmdW5jdGlvbiAoaykgewogICAgICAgICAgICBjbGllbnQuc2V0UmVxdWVzdEhlYWRlcihrLCBoZWFkZXJzW2tdKTsKICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgY2xpZW50LnNlbmQoZm1EYXRhKTsKICAgICAgfSkudGhlbiggLy8g5LiK5Lyg5oiQ5YqfCiAgICAgIGZ1bmN0aW9uIChyZXNEYXRhKSB7CiAgICAgICAgaWYgKHRoYXQubW9kZWxWYWx1ZSkgewogICAgICAgICAgdGhhdC5sb2FkaW5nID0gMjsKICAgICAgICAgIHRoYXQuJGVtaXQoJ2Nyb3AtdXBsb2FkLXN1Y2Nlc3MnLCByZXNEYXRhLCBmaWVsZCwga2kpOwogICAgICAgIH0KICAgICAgfSwgLy8g5LiK5Lyg5aSx6LSlCiAgICAgIGZ1bmN0aW9uIChzdHMpIHsKICAgICAgICBpZiAodGhhdC5tb2RlbFZhbHVlKSB7CiAgICAgICAgICB0aGF0LmxvYWRpbmcgPSAzOwogICAgICAgICAgdGhhdC5oYXNFcnJvciA9IHRydWU7CiAgICAgICAgICB0aGF0LmVycm9yTXNnID0gbGFuZy5mYWlsOwogICAgICAgICAgdGhhdC4kZW1pdCgnY3JvcC11cGxvYWQtZmFpbCcsIHN0cywgZmllbGQsIGtpKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["upload-3.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n<div class=\"vue-image-crop-upload\" v-show=\"modelValue\">\n\t<div class=\"vicp-wrap\">\n\t\t<div class=\"vicp-close\" @click=\"off\">\n\t\t\t<i class=\"vicp-icon4\"></i>\n\t\t</div>\n\n\t\t<div class=\"vicp-step1\" v-show=\"step == 1\">\n\t\t\t<div class=\"vicp-drop-area\" @dragleave=\"preventDefault\" @dragover=\"preventDefault\" @dragenter=\"preventDefault\" @click=\"handleClick\" @drop=\"handleChange\">\n\t\t\t\t<i class=\"vicp-icon1\" v-show=\"loading != 1\">\n\t\t\t\t<i class=\"vicp-icon1-arrow\"></i>\n\t\t\t\t<i class=\"vicp-icon1-body\"></i>\n\t\t\t\t<i class=\"vicp-icon1-bottom\"></i>\n\t\t\t\t</i>\n\t\t\t\t<span class=\"vicp-hint\" v-show=\"loading !== 1\">{{ lang.hint }}</span>\n\t\t\t\t<span class=\"vicp-no-supported-hint\" v-show=\"!isSupported\">{{ lang.noSupported }}</span>\n\t\t\t\t<input type=\"file\" accept=\"image/*\" v-show=\"false\" v-if=\"step == 1\" @change=\"handleChange\" ref=\"fileinput\">\n\t\t\t</div>\n\t\t\t<div class=\"vicp-error\" v-show=\"hasError\">\n\t\t\t\t<i class=\"vicp-icon2\"></i> {{ errorMsg }}\n\t\t\t</div>\n\t\t\t<div class=\"vicp-operate\">\n\t\t\t\t<a @click=\"off\" @mousedown=\"ripple\">{{ lang.btn.off }}</a>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class=\"vicp-step2\" v-if=\"step == 2\">\n\t\t\t<div class=\"vicp-crop\">\n\t\t\t\t<div class=\"vicp-crop-left\" v-show=\"true\">\n\t\t\t\t\t<div class=\"vicp-img-container\" @wheel.prevent=\"handleMouseWheel\">\n\t\t\t\t\t\t<img :src=\"sourceImgUrl\" :style=\"sourceImgStyle\" class=\"vicp-img\" draggable=\"false\"\n\t\t\t\t\t\t\t@drag=\"preventDefault\"\n\t\t\t\t\t\t\t@dragstart=\"preventDefault\"\n\t\t\t\t\t\t\t@dragend=\"preventDefault\"\n\t\t\t\t\t\t\t@dragleave=\"preventDefault\"\n\t\t\t\t\t\t\t@dragover=\"preventDefault\"\n\t\t\t\t\t\t\t@dragenter=\"preventDefault\"\n\t\t\t\t\t\t\t@drop=\"preventDefault\"\n\t\t\t\t\t\t\t@touchstart=\"imgStartMove\"\n\t\t\t\t\t\t\t@touchmove=\"imgMove\"\n\t\t\t\t\t\t\t@touchend=\"createImg\"\n\t\t\t\t\t\t\t@touchcancel=\"createImg\"\n\t\t\t\t\t\t\t@mousedown=\"imgStartMove\"\n\t\t\t\t\t\t\t@mousemove=\"imgMove\"\n\t\t\t\t\t\t\t@mouseup=\"createImg\"\n\t\t\t\t\t\t\t@mouseout=\"createImg\"\n\t\t\t\t\t\t\tref=\"img\">\n\t\t\t\t\t\t<div class=\"vicp-img-shade vicp-img-shade-1\" :style=\"sourceImgShadeStyle\"></div>\n\t\t\t\t\t\t<div class=\"vicp-img-shade vicp-img-shade-2\" :style=\"sourceImgShadeStyle\"></div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"vicp-range\">\n\t\t\t\t\t\t<input type=\"range\" v-model=\"scale.range\" step=\"1\" min=\"0\" max=\"100\" @mousemove=\"zoomChange\">\n\t\t\t\t\t\t<i @mousedown=\"startZoomSub\" @mouseout=\"endZoomSub\" @mouseup=\"endZoomSub\" class=\"vicp-icon5\"></i>\n\t\t\t\t\t\t<i @mousedown=\"startZoomAdd\" @mouseout=\"endZoomAdd\" @mouseup=\"endZoomAdd\" class=\"vicp-icon6\"></i>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"vicp-rotate\" v-if=\"!noRotate\">\n                        <i @click=\"rotateImg\">↻</i>\n                    </div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"vicp-crop-right\" v-show=\"true\">\n\t\t\t\t\t<div class=\"vicp-preview\">\n\t\t\t\t\t\t<div class=\"vicp-preview-item\" v-if=\"!noSquare\">\n\t\t\t\t\t\t\t<img :src=\"createImgUrl\" :style=\"previewStyle\">\n\t\t\t\t\t\t\t<span>{{ lang.preview }}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"vicp-preview-item vicp-preview-item-circle\" v-if=\"!noCircle\">\n\t\t\t\t\t\t\t<img :src=\"createImgUrl\" :style=\"previewStyle\">\n\t\t\t\t\t\t\t<span>{{ lang.preview }}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"vicp-operate\">\n\t\t\t\t<a @click=\"setStep(1)\" @mousedown=\"ripple\">{{ lang.btn.back }}</a>\n\t\t\t\t<a class=\"vicp-operate-btn\" @click=\"prepareUpload\" @mousedown=\"ripple\">{{ lang.btn.save }}</a>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class=\"vicp-step3\" v-if=\"step == 3\">\n\t\t\t<div class=\"vicp-upload\">\n\t\t\t\t<span class=\"vicp-loading\" v-show=\"loading === 1\">{{ lang.loading }}</span>\n\t\t\t\t<div class=\"vicp-progress-wrap\">\n\t\t\t\t\t<span class=\"vicp-progress\" v-show=\"loading === 1\" :style=\"progressStyle\"></span>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"vicp-error\" v-show=\"hasError\">\n\t\t\t\t\t<i class=\"vicp-icon2\"></i> {{ errorMsg }}\n\t\t\t\t</div>\n\t\t\t\t<div class=\"vicp-success\" v-show=\"loading === 2\">\n\t\t\t\t\t<i class=\"vicp-icon3\"></i> {{ lang.success }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"vicp-operate\">\n\t\t\t\t<a @click=\"setStep(2)\" @mousedown=\"ripple\">{{ lang.btn.back }}</a>\n\t\t\t\t<a @click=\"off\" @mousedown=\"ripple\">{{ lang.btn.close }}</a>\n\t\t\t</div>\n\t\t</div>\n\t\t<canvas v-show=\"false\" :width=\"width\" :height=\"height\" ref=\"canvas\"></canvas>\n\t</div>\n</div>\n</template>\n\n<script>\n'use strict';\nimport language from './utils/language.js';\nimport mimes from './utils/mimes.js';\nimport data2blob from './utils/data2blob.js';\nimport effectRipple from './utils/effectRipple.js';\n\nexport default {\n\tprops: {\n\t\t// 域，上传文件name，触发事件会带上（如果一个页面多个图片上传控件，可以做区分\n\t\tfield: {\n\t\t\ttype: String,\n\t\t\t'default': 'avatar'\n\t\t},\n\t\t// 原名key，类似于id，触发事件会带上（如果一个页面多个图片上传控件，可以做区分\n\t\tki: {\n\t\t\ttype: String,\n\t\t\t'default': '0'\n\t\t},\n\t\t// 显示该控件与否\n\t\tmodelValue: {\n\t\t\ttype: Boolean,\n\t\t\t'default': true\n\t\t},\n\t\t// 上传地址\n\t\turl: {\n\t\t\ttype: String,\n\t\t\t'default': ''\n\t\t},\n\t\t// 其他要上传文件附带的数据，对象格式\n\t\tparams: {\n\t\t\ttype: Object,\n\t\t\t'default': ()=>null\n\t\t},\n\t\t//Add custom headers\n\t\theaders: {\n\t\t\ttype: Object,\n\t\t\t'default': ()=>null\n\t\t},\n\t\t// 剪裁图片的宽\n\t\twidth: {\n\t\t\ttype: Number,\n\t\t\tdefault: 200\n\t\t},\n\t\t// 剪裁图片的高\n\t\theight: {\n\t\t\ttype: Number,\n\t\t\tdefault: 200\n\t\t},\n\t\t// 不显示旋转功能\n\t\tnoRotate: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true\n\t\t},\n\t\t// 不预览圆形图片\n\t\tnoCircle: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false\n\t\t},\n\t\t// 不预览方形图片\n\t\tnoSquare: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false\n\t\t},\n\t\t// 单文件大小限制\n\t\tmaxSize: {\n\t\t\ttype: Number,\n\t\t\t'default': 10240\n\t\t},\n\t\t// 语言类型\n\t\tlangType: {\n\t\t\ttype: String,\n\t\t\t'default': 'zh'\n\t\t},\n\t\t// 语言包\n\t\tlangExt: {\n\t\t\ttype: Object,\n\t\t\t'default': ()=>null\n\t\t},\n\t\t// 图片上传格式\n\t\timgFormat: {\n\t\t\ttype: String,\n\t\t\t'default': 'png'\n\t\t},\n\t\t// 图片背景 jpg情况下生效\n\t\timgBgc: {\n\t\t\ttype: String,\n\t\t\t'default': '#fff'\n\t\t},\n\t\t// 是否支持跨域\n\t\twithCredentials: {\n\t\t\ttype: Boolean,\n\t\t\t'default': false\n\t\t},\n\t\tmethod: {\n\t\t\ttype: String,\n\t\t\t'default': 'POST'\n\t\t},\n\t\tinitialImgUrl: {\n\t\t\ttype: String,\n\t\t\t'default': ''\n\t    },\n\t    allowImgFormat: {\n\t    \ttype: Array,\n\t    \t'default': ()=>[\n\t\t    \t'gif',\n\t\t\t'jpg',\n\t\t\t'png'\n\t\t\t]\n\t    }\n\t},\n\n\tdata() {\n\t\tlet that = this,\n\t\t\t{\n\t\t\t\timgFormat,\n\t\t\t\tallowImgFormat,\n\t\t\t\tlangType,\n\t\t\t\tlangExt,\n\t\t\t\twidth,\n\t\t\t\theight\n\t\t\t} = that,\n\t\t\tisSupported = true,\n\t\t\ttempImgFormat = allowImgFormat.indexOf(imgFormat) === -1 ? 'jpg' : imgFormat,\n\t\t\tlang = language[langType] ? language[langType] : language['en'],\n\t\t\tmime = mimes[tempImgFormat];\n\t\t// 规范图片格式\n\t\t// that.imgFormat = tempImgFormat;\n\n\t\tif (langExt) {\n\t\t\tObject.assign(lang, langExt);\n\t\t}\n\t\tif (typeof FormData != 'function') {\n\t\t\tisSupported = false;\n\t\t}\n\t\treturn {\n\t\t\t// 图片的mime\n\t\t\tmime,\n\n\t\t\t// 语言包\n\t\t\tlang,\n\n\t\t\t// 浏览器是否支持该控件\n\t\t\tisSupported,\n\t\t\t// 浏览器是否支持触屏事件\n\t\t\tisSupportTouch: document.hasOwnProperty(\"ontouchstart\"),\n\n\t\t\t// 步骤\n\t\t\tstep: 1, //1选择文件 2剪裁 3上传\n\n\t\t\t// 上传状态及进度\n\t\t\tloading: 0, //0未开始 1正在 2成功 3错误\n\t\t\tprogress: 0,\n\n\t\t\t// 是否有错误及错误信息\n\t\t\thasError: false,\n\t\t\terrorMsg: '',\n\n\t\t\t// 需求图宽高比\n\t\t\tratio: width / height,\n\n\t\t\t// 原图地址、生成图片地址\n\t\t\tsourceImg: null,\n\t\t\tsourceImgUrl: this.initialImgUrl,\n\t\t\tcreateImgUrl: this.initialImgUrl,\n\n\t\t\t// 原图片拖动事件初始值\n\t\t\tsourceImgMouseDown: {\n\t\t\t\ton: false,\n\t\t\t\tmX: 0, //鼠标按下的坐标\n\t\t\t\tmY: 0,\n\t\t\t\tx: 0, //scale原图坐标\n\t\t\t\ty: 0\n\t\t\t},\n\n\t\t\t// 生成图片预览的容器大小\n\t\t\tpreviewContainer: {\n\t\t\t\twidth: 100,\n\t\t\t\theight: 100\n\t\t\t},\n\n\t\t\t// 原图容器宽高\n\t\t\tsourceImgContainer: { // sic\n\t\t\t\twidth: 240,\n\t\t\t\theight: 184 // 如果生成图比例与此一致会出现bug，先改成特殊的格式吧，哈哈哈\n\t\t\t},\n\n\t\t\t// 原图展示属性\n\t\t\tscale: {\n\t\t\t\tzoomAddOn: false, //按钮缩放事件开启\n\t\t\t\tzoomSubOn: false, //按钮缩放事件开启\n\t\t\t\trange: 1, //最大100\n\n\t\t\t\tx: 0,\n\t\t\t\ty: 0,\n\t\t\t\twidth: 0,\n\t\t\t\theight: 0,\n\t\t\t\tmaxWidth: 0,\n\t\t\t\tmaxHeight: 0,\n\t\t\t\tminWidth: 0, //最宽\n\t\t\t\tminHeight: 0,\n\t\t\t\tnaturalWidth: 0, //原宽\n\t\t\t\tnaturalHeight: 0\n\t\t\t}\n\t\t}\n\t},\n\n\tcomputed: {\n\t\t// 进度条样式\n\t\tprogressStyle() {\n\t\t\tlet {\n\t\t\t\tprogress\n\t\t\t} = this;\n\t\t\treturn {\n\t\t\t\twidth: progress + '%'\n\t\t\t}\n\t\t},\n\t\t// 原图样式\n\t\tsourceImgStyle() {\n\t\t\tlet {\n\t\t\t\t\tscale,\n\t\t\t\t\tsourceImgMasking\n\t\t\t\t} = this,\n\t\t\t\ttop = scale.y + sourceImgMasking.y + 'px',\n\t\t\t\tleft = scale.x + sourceImgMasking.x + 'px';\n\t\t\treturn {\n\t\t\t\ttop,\n\t\t\t\tleft,\n\t\t\t\twidth: scale.width + 'px',\n\t\t\t\theight: scale.height + 'px',// 兼容 Opera\n\t\t\t}\n\t\t},\n\t\t// 原图蒙版属性\n\t\tsourceImgMasking() {\n\t\t\tlet {\n\t\t\t\t\twidth,\n\t\t\t\t\theight,\n\t\t\t\t\tratio,\n\t\t\t\t\tsourceImgContainer\n\t\t\t\t} = this,\n\t\t\t\tsic = sourceImgContainer,\n\t\t\t\tsicRatio = sic.width / sic.height, // 原图容器宽高比\n\t\t\t\tx = 0,\n\t\t\t\ty = 0,\n\t\t\t\tw = sic.width,\n\t\t\t\th = sic.height,\n\t\t\t\tscale = 1;\n\t\t\tif (ratio < sicRatio) {\n\t\t\t\tscale = sic.height / height;\n\t\t\t\tw = sic.height * ratio;\n\t\t\t\tx = (sic.width - w) / 2;\n\t\t\t}\n\t\t\tif (ratio > sicRatio) {\n\t\t\t\tscale = sic.width / width;\n\t\t\t\th = sic.width / ratio;\n\t\t\t\ty = (sic.height - h) / 2;\n\t\t\t}\n\t\t\treturn {\n\t\t\t\tscale, // 蒙版相对需求宽高的缩放\n\t\t\t\tx,\n\t\t\t\ty,\n\t\t\t\twidth: w,\n\t\t\t\theight: h\n\t\t\t};\n\t\t},\n\t\t// 原图遮罩样式\n\t\tsourceImgShadeStyle() {\n\t\t\tlet {\n\t\t\t\t\tsourceImgMasking,\n\t\t\t\t\tsourceImgContainer\n\t\t\t\t} = this,\n\t\t\t\tsic = sourceImgContainer,\n\t\t\t\tsim = sourceImgMasking,\n\t\t\t\tw = sim.width == sic.width ? sim.width : (sic.width - sim.width) / 2,\n\t\t\t\th = sim.height == sic.height ? sim.height : (sic.height - sim.height) / 2;\n\t\t\treturn {\n\t\t\t\twidth: w + 'px',\n\t\t\t\theight: h + 'px'\n\t\t\t};\n\t\t},\n\t\tpreviewStyle() {\n\t\t\tlet {\n\t\t\t\t\twidth,\n\t\t\t\t\theight,\n\t\t\t\t\tratio,\n\t\t\t\t\tpreviewContainer\n\t\t\t\t} = this,\n\t\t\t\tpc = previewContainer,\n\t\t\t\tw = pc.width,\n\t\t\t\th = pc.height,\n\t\t\t\tpcRatio = w / h;\n\t\t\tif (ratio < pcRatio) {\n\t\t\t\tw = pc.height * ratio;\n\t\t\t}\n\t\t\tif (ratio > pcRatio) {\n\t\t\t\th = pc.width / ratio;\n\t\t\t}\n\t\t\treturn {\n\t\t\t\twidth: w + 'px',\n\t\t\t\theight: h + 'px'\n\t\t\t};\n\t\t}\n\t},\n\n\twatch: {\n\t\tmodelValue(newValue) {\n\t\t\tif (newValue && this.loading != 1) {\n\t\t\t\tthis.reset();\n\t\t\t}\n\t\t}\n\t},\n\n\tcreated(){\n\t\t// 绑定按键esc隐藏此插件事件\n\t\tdocument.addEventListener('keyup', this.handleEscClose )\n\t},\n\n\tbeforeUnmount(){\n\t\tdocument.removeEventListener('keyup', this.handleEscClose )\n\t},\n\n\tmounted() {\n\t\tif (this.sourceImgUrl) {\n\t\t\tthis.startCrop();\n\t\t}\n\t},\n\n\tmethods: {\n\t\thandleEscClose(e){\n\t\t\tif(this.modelValue && (e.key == 'Escape' || e.keyCode == 27)){\n\t\t\t\tthis.off();\n\t\t\t}\n\t\t},\n\t\t// 点击波纹效果\n\t\tripple(e) {\n\t\t\teffectRipple(e);\n\t\t},\n\t\t// 关闭控件\n\t\toff() {\n\t\t\tsetTimeout(()=> {\n\t\t\t\tthis.$emit('update:modelValue', false);\n\t\t\t\tif(this.step == 3 && this.loading == 2){\n\t\t\t\t\tthis.setStep(1);\n\t\t\t\t}\n\t\t\t}, 200);\n\t\t},\n\t\t// 设置步骤\n\t\tsetStep(no) {\n\t\t\t// 延时是为了显示动画效果呢，哈哈哈\n\t\t\tsetTimeout(()=> {\n\t\t\t\tthis.step = no;\n\t\t\t}, 200);\n\t\t},\n\n\t\t/* 图片选择区域函数绑定\n\t\t ---------------------------------------------------------------*/\n\t\tpreventDefault(e) {\n\t\t\te.preventDefault();\n\t\t\treturn false;\n\t\t},\n\t\thandleClick(e) {\n\t\t\tif (this.loading !== 1) {\n\t\t\t\tif (e.target !== this.$refs.fileinput) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tif (document.activeElement !== this.$refs) {\n\t\t\t\t\t\tthis.$refs.fileinput.click();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\thandleChange(e) {\n\t\t\te.preventDefault();\n\t\t\tif (this.loading !== 1) {\n\t\t\t\tlet files = e.target.files || e.dataTransfer.files;\n\t\t\t\tthis.reset();\n\t\t\t\tif (this.checkFile(files[0])) {\n\t\t\t\t\tthis.setSourceImg(files[0]);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/* ---------------------------------------------------------------*/\n\n\t\t// 检测选择的文件是否合适\n\t\tcheckFile(file) {\n\t\t\tlet that = this,\n\t\t\t\t{\n\t\t\t\t\tlang,\n\t\t\t\t\tmaxSize\n\t\t\t\t} = that;\n\t\t\t// 仅限图片\n\t\t\tif (file.type.indexOf('image') === -1) {\n\t\t\t\tthat.hasError = true;\n\t\t\t\tthat.errorMsg = lang.error.onlyImg;\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t// 超出大小\n\t\t\tif (file.size / 1024 > maxSize) {\n\t\t\t\tthat.hasError = true;\n\t\t\t\tthat.errorMsg = lang.error.outOfSize + maxSize + 'kb';\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\t\t// 重置控件\n\t\treset() {\n\t\t\tlet that = this;\n\t\t\tthat.loading = 0;\n\t\t\tthat.hasError = false;\n\t\t\tthat.errorMsg = '';\n\t\t\tthat.progress = 0;\n\t\t},\n\t\t// 设置图片源\n\t\tsetSourceImg(file) {\n\t\t\tthis.$emit('src-file-set', file.name, file.type, file.size);\n\t\t\tlet that = this,\n\t\t\t\tfr = new FileReader();\n\t\t\tfr.onload = function(e) {\n\t\t\t\tthat.sourceImgUrl = fr.result;\n\t\t\t\tthat.startCrop();\n\t\t\t}\n\t\t\tfr.readAsDataURL(file);\n\t\t},\n\t\t// 剪裁前准备工作\n\t\tstartCrop() {\n\t\t\tlet that = this,\n\t\t\t\t{\n\t\t\t\t\twidth,\n\t\t\t\t\theight,\n\t\t\t\t\tratio,\n\t\t\t\t\tscale,\n\t\t\t\t\tsourceImgUrl,\n\t\t\t\t\tsourceImgMasking,\n\t\t\t\t\tlang\n\t\t\t\t} = that,\n\t\t\t\tsim = sourceImgMasking,\n\t\t\t\timg = new Image();\n\t\t\timg.src = sourceImgUrl;\n\t\t\timg.onload = function() {\n\t\t\t\tlet nWidth = img.naturalWidth,\n\t\t\t\t\tnHeight = img.naturalHeight,\n\t\t\t\t\tnRatio = nWidth / nHeight,\n\t\t\t\t\tw = sim.width,\n\t\t\t\t\th = sim.height,\n\t\t\t\t\tx = 0,\n\t\t\t\t\ty = 0;\n\t\t\t\t// 图片像素不达标\n\t\t\t\tif (nWidth < width || nHeight < height) {\n\t\t\t\t\tthat.hasError = true;\n\t\t\t\t\tthat.errorMsg = lang.error.lowestPx + width + '*' + height;\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tif (ratio > nRatio) {\n\t\t\t\t\th = w / nRatio;\n\t\t\t\t\ty = (sim.height - h) / 2;\n\t\t\t\t}\n\t\t\t\tif (ratio < nRatio) {\n\t\t\t\t\tw = h * nRatio;\n\t\t\t\t\tx = (sim.width - w) / 2;\n\t\t\t\t}\n\t\t\t\tscale.range = 0;\n\t\t\t\tscale.x = x;\n\t\t\t\tscale.y = y;\n\t\t\t\tscale.width = w;\n\t\t\t\tscale.height = h;\n\t\t\t\tscale.minWidth = w;\n\t\t\t\tscale.minHeight = h;\n\t\t\t\tscale.maxWidth = nWidth * sim.scale;\n\t\t\t\tscale.maxHeight = nHeight * sim.scale;\n\t\t\t\tscale.naturalWidth = nWidth;\n\t\t\t\tscale.naturalHeight = nHeight;\n\t\t\t\tthat.sourceImg = img;\n\t\t\t\tthat.createImg();\n\t\t\t\tthat.setStep(2);\n\t\t\t};\n\t\t},\n\t\t// 鼠标按下图片准备移动\n\t\timgStartMove(e) {\n\t\t\te.preventDefault();\n\t\t\t// 支持触摸事件，则鼠标事件无效\n\t\t\tif(this.isSupportTouch && !e.targetTouches){\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tlet et = e.targetTouches ? e.targetTouches[0] : e,\n\t\t\t\t{\n\t\t\t\t\tsourceImgMouseDown,\n\t\t\t\t\tscale\n\t\t\t\t} = this,\n\t\t\t\tsimd = sourceImgMouseDown;\n\t\t\tsimd.mX = et.screenX;\n\t\t\tsimd.mY = et.screenY;\n\t\t\tsimd.x = scale.x;\n\t\t\tsimd.y = scale.y;\n\t\t\tsimd.on = true;\n\t\t},\n\t\t// 鼠标按下状态下移动，图片移动\n\t\timgMove(e) {\n\t\t\te.preventDefault();\n\t\t\t// 支持触摸事件，则鼠标事件无效\n\t\t\tif(this.isSupportTouch && !e.targetTouches){\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tlet et = e.targetTouches ? e.targetTouches[0] : e,\n\t\t\t\t{\n\t\t\t\t\tsourceImgMouseDown: {\n\t\t\t\t\t\ton,\n\t\t\t\t\t\tmX,\n\t\t\t\t\t\tmY,\n\t\t\t\t\t\tx,\n\t\t\t\t\t\ty\n\t\t\t\t\t},\n\t\t\t\t\tscale,\n\t\t\t\t\tsourceImgMasking\n\t\t\t\t} = this,\n\t\t\t\tsim = sourceImgMasking,\n\t\t\t\tnX = et.screenX,\n\t\t\t\tnY = et.screenY,\n\t\t\t\tdX = nX - mX,\n\t\t\t\tdY = nY - mY,\n\t\t\t\trX = x + dX,\n\t\t\t\trY = y + dY;\n\t\t\tif (!on) return;\n\t\t\tif (rX > 0) {\n\t\t\t\trX = 0;\n\t\t\t}\n\t\t\tif (rY > 0) {\n\t\t\t\trY = 0;\n\t\t\t}\n\t\t\tif (rX < sim.width - scale.width) {\n\t\t\t\trX = sim.width - scale.width;\n\t\t\t}\n\t\t\tif (rY < sim.height - scale.height) {\n\t\t\t\trY = sim.height - scale.height;\n\t\t\t}\n\t\t\tscale.x = rX;\n\t\t\tscale.y = rY;\n\t\t},\n\t\t// 顺时针旋转图片\n        rotateImg(e) {\n\t\t\tlet {\n\t\t\t\t\tsourceImg,\n                    scale: {\n\t\t\t\t\t\tnaturalWidth,\n\t\t\t\t\t\tnaturalHeight,\n                    }\n                } = this,\n\t\t\t\twidth = naturalHeight,\n\t\t\t\theight = naturalWidth,\n                canvas = this.$refs.canvas,\n                ctx = canvas.getContext('2d');\n\t\t\tcanvas.width = width;\n            canvas.height = height;\n            ctx.clearRect(0, 0, width, height);\n\n\t\t\tctx.fillStyle = 'rgba(0,0,0,0)';\n\t\t\tctx.fillRect(0, 0, width, height);\n\n\t\t\tctx.translate(width, 0);\n            ctx.rotate(Math.PI * 90 / 180);\n\n            ctx.drawImage(sourceImg, 0, 0, naturalWidth, naturalHeight);\n            let imgUrl = canvas.toDataURL(mimes['png']);\n\n\t\t\tthis.sourceImgUrl = imgUrl;\n\t\t\tthis.startCrop();\n        },\n        handleMouseWheel(e){\n\t\t\te = e || window.event;\n\t\t\tlet \t{ scale } = this;\n\t\t\tif (e.wheelDelta) {  //判断浏览器IE，谷歌滑轮事件\n\t\t\t\tif (e.wheelDelta > 0) { //当滑轮向上滚动时\n\t\t\t\t\tthis.zoomImg(scale.range >= 100 ? 100 : ++scale.range);\n\t\t\t\t}\n\t\t\t\tif (e.wheelDelta < 0) {\n\t\t\t\t\tthis.zoomImg(scale.range <= 0 ? 0 : --scale.range);\n\t\t\t\t}\n\t\t\t} else if (e.detail) {  //Firefox滑轮事件\n\t\t\t\tif (e.detail > 0) { //当滑轮向上滚动时\n\t\t\t\t\tthis.zoomImg(scale.range >= 100 ? 100 : ++scale.range);\n\t\t\t\t}\n\t\t\t\tif (e.detail < 0) {\n\t\t\t\t\tthis.zoomImg(scale.range <= 0 ? 0 : --scale.range);\n\t\t\t\t}\n\t\t\t}\n        },\n\t\t// 按钮按下开始放大\n\t\tstartZoomAdd(e) {\n\t\t\tlet that = this,\n\t\t\t\t{\n\t\t\t\t\tscale\n\t\t\t\t} = that;\n\t\t\tscale.zoomAddOn = true;\n\n\t\t\tfunction zoom() {\n\t\t\t\tif (scale.zoomAddOn) {\n\t\t\t\t\tlet range = scale.range >= 100 ? 100 : ++scale.range;\n\t\t\t\t\tthat.zoomImg(range);\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\tzoom();\n\t\t\t\t\t}, 60);\n\t\t\t\t}\n\t\t\t}\n\t\t\tzoom();\n\t\t},\n\t\t// 按钮松开或移开取消放大\n\t\tendZoomAdd(e) {\n\t\t\tthis.scale.zoomAddOn = false;\n\t\t},\n\t\t// 按钮按下开始缩小\n\t\tstartZoomSub(e) {\n\t\t\tlet that = this,\n\t\t\t\t{\n\t\t\t\t\tscale\n\t\t\t\t} = that;\n\t\t\tscale.zoomSubOn = true;\n\n\t\t\tfunction zoom() {\n\t\t\t\tif (scale.zoomSubOn) {\n\t\t\t\t\tlet range = scale.range <= 0 ? 0 : --scale.range;\n\t\t\t\t\tthat.zoomImg(range);\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\tzoom();\n\t\t\t\t\t}, 60);\n\t\t\t\t}\n\t\t\t}\n\t\t\tzoom();\n\t\t},\n\t\t// 按钮松开或移开取消缩小\n\t\tendZoomSub(e) {\n\t\t\tlet {\n\t\t\t\tscale\n\t\t\t} = this;\n\t\t\tscale.zoomSubOn = false;\n\t\t},\n\t\tzoomChange(e) {\n\t\t\tthis.zoomImg(e.target.value);\n\t\t},\n\t\t// 缩放原图\n\t\tzoomImg(newRange) {\n\t\t\tlet that = this,\n\t\t\t\t{\n\t\t\t\t\tsourceImgMasking,\n\t\t\t\t\tsourceImgMouseDown,\n\t\t\t\t\tscale\n\t\t\t\t} = this,\n\t\t\t\t{\n\t\t\t\t\tmaxWidth,\n\t\t\t\t\tmaxHeight,\n\t\t\t\t\tminWidth,\n\t\t\t\t\tminHeight,\n\t\t\t\t\twidth,\n\t\t\t\t\theight,\n\t\t\t\t\tx,\n\t\t\t\t\ty,\n\t\t\t\t\trange\n\t\t\t\t} = scale,\n\t\t\t\tsim = sourceImgMasking,\n\t\t\t\t// 蒙版宽高\n\t\t\t\tsWidth = sim.width,\n\t\t\t\tsHeight = sim.height,\n\t\t\t\t// 新宽高\n\t\t\t\tnWidth = minWidth + (maxWidth - minWidth) * newRange / 100,\n\t\t\t\tnHeight = minHeight + (maxHeight - minHeight) * newRange / 100,\n\t\t\t\t// 新坐标（根据蒙版中心点缩放）\n\t\t\t\tnX = sWidth / 2 - (nWidth / width) * (sWidth / 2 - x),\n\t\t\t\tnY = sHeight / 2 - (nHeight / height) * (sHeight / 2 - y);\n\n\t\t\t// 判断新坐标是否超过蒙版限制\n\t\t\tif (nX > 0) {\n\t\t\t\tnX = 0;\n\t\t\t}\n\t\t\tif (nY > 0) {\n\t\t\t\tnY = 0;\n\t\t\t}\n\t\t\tif (nX < sWidth - nWidth) {\n\t\t\t\tnX = sWidth - nWidth;\n\t\t\t}\n\t\t\tif (nY < sHeight - nHeight) {\n\t\t\t\tnY = sHeight - nHeight;\n\t\t\t}\n\n\t\t\t// 赋值处理\n\t\t\tscale.x = nX;\n\t\t\tscale.y = nY;\n\t\t\tscale.width = nWidth;\n\t\t\tscale.height = nHeight;\n\t\t\tscale.range = newRange;\n\t\t\tsetTimeout(function() {\n\t\t\t\tif (scale.range == newRange) {\n\t\t\t\t\tthat.createImg();\n\t\t\t\t}\n\t\t\t}, 300);\n\t\t},\n\t\t // 生成需求图片\n        createImg(e) {\n            let that = this,\n                {\n\t\t\t\t\timgFormat,\n\t\t\t\t\timgBgc,\n                    mime,\n                    sourceImg,\n                    scale: {\n                        x,\n                        y,\n                        width,\n                        height,\n                    },\n                    sourceImgMasking: {\n                        scale\n                    }\n                } = that,\n                canvas = that.$refs.canvas,\n                ctx = canvas.getContext('2d');\n            if (e) {\n                // 取消鼠标按下移动状态\n                that.sourceImgMouseDown.on = false;\n            }\n\t\t\tcanvas.width = that.width;\n            canvas.height = that.height;\n            ctx.clearRect(0, 0, that.width, that.height);\n\n\t\t\tif(imgFormat == 'png'){\n\t\t\t\tctx.fillStyle = 'rgba(0,0,0,0)';\n\t\t\t} else{\n\t\t\t\t// 如果jpg 为透明区域设置背景，默认白色\n\t\t\t\tctx.fillStyle = imgBgc;\n\t\t\t}\n\t\t\tctx.fillRect(0, 0, that.width, that.height);\n\n            ctx.drawImage(sourceImg, x / scale, y / scale, width / scale, height / scale);\n            that.createImgUrl = canvas.toDataURL(mime);\n        },\n\t\tprepareUpload(){\n\t\t\tlet {\n\t\t\t\turl,\n\t\t\t\tcreateImgUrl,\n\t\t\t\tfield,\n\t\t\t\tki\n\t\t\t} = this;\n\t\t\tthis.$emit('crop-success', createImgUrl, field, ki);\n\t\t\tif(typeof url == 'string' && url){\n\t\t\t\tthis.upload();\n\t\t\t}else{\n\t\t\t\tthis.off();\n\t\t\t}\n\t\t},\n\t\t// 上传图片\n\t\tupload() {\n\t\t\tlet that = this,\n\t\t\t\t{\n\t\t\t\t\tlang,\n\t\t\t\t\timgFormat,\n\t\t\t\t\tmime,\n\t\t\t\t\turl,\n\t\t\t\t\tparams,\n\t\t\t\t\theaders,\n\t\t\t\t\tfield,\n\t\t\t\t\tki,\n\t\t\t\t\tcreateImgUrl,\n\t\t\t\t\twithCredentials,\n\t\t\t\t\tmethod\n\t\t\t\t} = this,\n\t\t\t\tfmData = new FormData();\n\n\t\t\t// 添加其他参数\n\t\t\tif (typeof params == 'object' && params) {\n\t\t\t\tObject.keys(params).forEach((k) => {\n\t\t\t\t\tfmData.append(k, params[k]);\n\t\t\t\t})\n\t\t\t}\n\n\t\t\t// 将field的添加放到表单域的最后，以支持阿里云OSS的表单上传\n\t\t\tfmData.append(field, data2blob(createImgUrl, mime), field + '.' + imgFormat);\n\n\n\t\t\t// 监听进度回调\n\t\t\tconst uploadProgress = function(event) {\n\t\t\t\tif (event.lengthComputable) {\n\t\t\t\t\tthat.progress = 100 * Math.round(event.loaded) / event.total;\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t// 上传文件\n\t\t\tthat.reset();\n\t\t\tthat.loading = 1;\n\t\t\tthat.setStep(3);\n\t\t\tnew Promise(function(resolve, reject) {\n\t\t\t\tlet client = new XMLHttpRequest();\n\t\t\t\tclient.open(method, url, true);\n\t\t\t\tclient.withCredentials = withCredentials;\n\t\t\t\tclient.onreadystatechange = function() {\n\t\t\t\t\tif (this.readyState !== 4) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tif (this.status === 200 || this.status === 201 || this.staus ===202 ) {\n\t\t\t\t\t\tresolve(JSON.parse(this.responseText));\n\t\t\t\t\t} else {\n\t\t\t\t\t\treject(this.status);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tclient.upload.addEventListener(\"progress\", uploadProgress, false); //监听进度\n\t\t\t\t// 设置header\n\t\t\t\tif (typeof headers == 'object' && headers) {\n\t\t\t\t\tObject.keys(headers).forEach((k) => {\n\t\t\t\t\t\tclient.setRequestHeader(k, headers[k]);\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\tclient.send(fmData);\n\t\t\t}).then(\n\t\t\t\t// 上传成功\n\t\t\t\tfunction(resData) {\n\t\t\t\t\tif (that.modelValue) {\n\t\t\t\t\t\tthat.loading = 2;\n\t\t\t\t\t\tthat.$emit('crop-upload-success', resData, field, ki);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t// 上传失败\n\t\t\t\tfunction(sts) {\n\t\t\t\t\tif (that.modelValue) {\n\t\t\t\t\t\tthat.loading = 3;\n\t\t\t\t\t\tthat.hasError = true;\n\t\t\t\t\t\tthat.errorMsg = lang.fail;\n\t\t\t\t\t\tthat.$emit('crop-upload-fail', sts, field, ki);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t},\n}\n\n</script>\n\n<!--\n<style lang='sass' src=\"./scss/upload.scss\">\n</style> -->\n\n<style>\n@import url('upload.css');\n</style>\n"],"sourceRoot":"node_modules/vue-image-crop-upload"}]}