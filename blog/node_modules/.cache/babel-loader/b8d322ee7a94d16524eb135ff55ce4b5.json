{"remainingRequest":"E:\\sourceCode\\Backend\\blog-master\\blog-vue\\blog\\node_modules\\babel-loader\\lib\\index.js!E:\\sourceCode\\Backend\\blog-master\\blog-vue\\blog\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\sourceCode\\Backend\\blog-master\\blog-vue\\blog\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\sourceCode\\Backend\\blog-master\\blog-vue\\blog\\src\\components\\model\\EmailModel.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\sourceCode\\Backend\\blog-master\\blog-vue\\blog\\src\\components\\model\\EmailModel.vue","mtime":1723798256974},{"path":"E:\\sourceCode\\Backend\\blog-master\\blog-vue\\blog\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\sourceCode\\Backend\\blog-master\\blog-vue\\blog\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\sourceCode\\Backend\\blog-master\\blog-vue\\blog\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\sourceCode\\Backend\\blog-master\\blog-vue\\blog\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnRyaW0iOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGVtYWlsOiB0aGlzLiRzdG9yZS5zdGF0ZS5lbWFpbCwKICAgICAgY29kZTogIiIsCiAgICAgIGZsYWc6IHRydWUsCiAgICAgIGNvZGVNc2c6ICLlj5HpgIEiLAogICAgICB0aW1lOiA2MCwKICAgICAgc2hvdzogZmFsc2UKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBzZW5kQ29kZTogZnVuY3Rpb24gc2VuZENvZGUoKSB7CiAgICAgIHZhciB0aGF0ID0gdGhpczsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmCgogICAgICB2YXIgY2FwdGNoYSA9IG5ldyBUZW5jZW50Q2FwdGNoYSh0aGlzLmNvbmZpZy5URU5DRU5UX0NBUFRDSEEsIGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAocmVzLnJldCA9PT0gMCkgewogICAgICAgICAgLy8g5Y+R6YCB6aqM6K+B56CB6K+35rGCCiAgICAgICAgICB0aGF0LmNvdW50RG93bigpOwogICAgICAgICAgdGhhdC5heGlvcy5nZXQoIi9hcGkvdXNlcnMvY29kZSIsIHsKICAgICAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICAgICAgdXNlcm5hbWU6IHRoYXQuZW1haWwKICAgICAgICAgICAgfQogICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoX3JlZikgewogICAgICAgICAgICB2YXIgZGF0YSA9IF9yZWYuZGF0YTsKCiAgICAgICAgICAgIGlmIChkYXRhLmZsYWcpIHsKICAgICAgICAgICAgICB0aGF0LiR0b2FzdCh7CiAgICAgICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsCiAgICAgICAgICAgICAgICBtZXNzYWdlOiBkYXRhLm1lc3NhZ2UKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICB0aGF0LiR0b2FzdCh7CiAgICAgICAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgICAgICAgbWVzc2FnZTogZGF0YS5tZXNzYWdlCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICB0aGF0LiR0b2FzdCh7CiAgICAgICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgICAgICBtZXNzYWdlOiAi5Y+R6YCB6aqM6K+B56CB5aSx6LSlIgogICAgICAgICAgICB9KTsKICAgICAgICAgICAgY29uc29sZS5lcnJvcigi5Y+R6YCB6aqM6K+B56CB6K+35rGC5aSx6LSlOiIsIGVycm9yKTsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7IC8vIOaYvuekuumqjOivgeeggQoKICAgICAgY2FwdGNoYS5zaG93KCk7CiAgICB9LAogICAgY291bnREb3duOiBmdW5jdGlvbiBjb3VudERvd24oKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLmZsYWcgPSB0cnVlOwogICAgICB0aGlzLnRpbWVyID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzLnRpbWUtLTsKICAgICAgICBfdGhpcy5jb2RlTXNnID0gX3RoaXMudGltZSArICJzIjsKCiAgICAgICAgaWYgKF90aGlzLnRpbWUgPD0gMCkgewogICAgICAgICAgY2xlYXJJbnRlcnZhbChfdGhpcy50aW1lcik7CiAgICAgICAgICBfdGhpcy5jb2RlTXNnID0gIuWPkemAgSI7CiAgICAgICAgICBfdGhpcy50aW1lID0gNjA7CiAgICAgICAgICBfdGhpcy5mbGFnID0gZmFsc2U7CiAgICAgICAgfQogICAgICB9LCAxMDAwKTsKICAgIH0sCiAgICBzYXZlVXNlckVtYWlsOiBmdW5jdGlvbiBzYXZlVXNlckVtYWlsKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHZhciByZWcgPSAvXltBLVphLXowLTlcdTRlMDAtXHU5ZmE1XStAW2EtekEtWjAtOV8tXSsoXC5bYS16QS1aMC05Xy1dKykrJC87CgogICAgICBpZiAoIXJlZy50ZXN0KHRoaXMuZW1haWwpKSB7CiAgICAgICAgdGhpcy4kdG9hc3QoewogICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgIG1lc3NhZ2U6ICLpgq7nrrHmoLzlvI/kuI3mraPnoa4iCiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CgogICAgICBpZiAodGhpcy5jb2RlLnRyaW0oKS5sZW5ndGggIT0gNikgewogICAgICAgIHRoaXMuJHRvYXN0KHsKICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICBtZXNzYWdlOiAi6K+36L6T5YWlNuS9jemqjOivgeeggSIKICAgICAgICB9KTsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KCiAgICAgIHZhciB1c2VyID0gewogICAgICAgIGVtYWlsOiB0aGlzLmVtYWlsLAogICAgICAgIGNvZGU6IHRoaXMuY29kZQogICAgICB9OwogICAgICBjb25zb2xlLmxvZygiUmVxdWVzdCBkYXRhOiIsIHVzZXIpOwogICAgICB2YXIgdG9rZW4gPSB0aGlzLiRzdG9yZS5zdGF0ZS50b2tlbiB8fCBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKTsKICAgICAgdGhpcy5heGlvcy5wb3N0KCIvYXBpL3VzZXJzL2VtYWlsIiwgdXNlciwgewogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICdBdXRob3JpemF0aW9uJzogIkJlYXJlciAiLmNvbmNhdCh0b2tlbikKICAgICAgICB9CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKF9yZWYyKSB7CiAgICAgICAgdmFyIGRhdGEgPSBfcmVmMi5kYXRhOwogICAgICAgIGNvbnNvbGUubG9nKCJSZXNwb25zZSBkYXRhOiIsIGRhdGEpOyAvLyDnoa7kv53ov5nph4zog73mraPnoa7miZPljbDlh7rov5Tlm57nmoTmlbDmja4KCiAgICAgICAgaWYgKGRhdGEubWVzc2FnZSA9PT0gInN1Y2Nlc3MiKSB7CiAgICAgICAgICAvLyDkv67mlLnkuLrmraPnoa7nmoTliKTmlq3mnaHku7YKICAgICAgICAgIF90aGlzMi4kc3RvcmUuY29tbWl0KCJzYXZlRW1haWwiLCBfdGhpczIuZW1haWwpOwoKICAgICAgICAgIF90aGlzMi5lbWFpbCA9ICIiOwogICAgICAgICAgX3RoaXMyLmNvZGUgPSAiIjsKCiAgICAgICAgICBfdGhpczIuJHN0b3JlLmNvbW1pdCgiY2xvc2VNb2RlbCIpOwoKICAgICAgICAgIF90aGlzMi4kdG9hc3QoewogICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsCiAgICAgICAgICAgIG1lc3NhZ2U6IGRhdGEubWVzc2FnZQogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzMi4kdG9hc3QoewogICAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgICBtZXNzYWdlOiBkYXRhLm1lc3NhZ2UKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5lcnJvcigi6K+35rGC5aSx6LSlOiIsIGVycm9yKTsKCiAgICAgICAgX3RoaXMyLiR0b2FzdCh7CiAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgbWVzc2FnZTogIuivt+axguWksei0pe+8jOivt+eojeWQjumHjeivlSIKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgZW1haWxGbGFnOiB7CiAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7CiAgICAgICAgdGhpcy4kc3RvcmUuc3RhdGUuZW1haWxGbGFnID0gdmFsdWU7CiAgICAgIH0sCiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5lbWFpbEZsYWc7CiAgICAgIH0KICAgIH0sCiAgICBpc01vYmlsZTogZnVuY3Rpb24gaXNNb2JpbGUoKSB7CiAgICAgIHZhciBjbGllbnRXaWR0aCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aDsKICAgICAgcmV0dXJuIGNsaWVudFdpZHRoIDw9IDk2MDsKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICBlbWFpbDogZnVuY3Rpb24gZW1haWwodmFsdWUpIHsKICAgICAgdmFyIHJlZyA9IC9eW0EtWmEtejAtOVx1NGUwMC1cdTlmYTVdK0BbYS16QS1aMC05Xy1dKyhcLlthLXpBLVowLTlfLV0rKSskLzsKICAgICAgdGhpcy5mbGFnID0gIXJlZy50ZXN0KHZhbHVlKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["EmailModel.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <v-dialog v-model=\"emailFlag\" :fullscreen=\"isMobile\" max-width=\"460\">\n    <v-card class=\"login-container\" style=\"border-radius:4px\">\n      <v-icon class=\"float-right\" @click=\"emailFlag = false\">\n        mdi-close\n      </v-icon>\n      <div class=\"login-wrapper\">\n        <!-- 用户名 -->\n        <v-text-field\n            v-model=\"email\"\n            label=\"邮箱号\"\n            placeholder=\"请输入您的邮箱号\"\n            clearable\n            @keyup.enter=\"register\"\n        />\n        <!-- 验证码 -->\n        <div class=\"mt-7 send-wrapper\">\n          <v-text-field\n              maxlength=\"6\"\n              v-model=\"code\"\n              label=\"验证码\"\n              placeholder=\"请输入6位验证码\"\n              @keyup.enter=\"register\"\n          />\n          <v-btn text small :disabled=\"flag\" @click=\"sendCode\">\n            {{ codeMsg }}\n          </v-btn>\n        </div>\n        <!-- 按钮 -->\n        <v-btn\n            class=\"mt-7\"\n            block\n            color=\"blue\"\n            style=\"color:#fff\"\n            @click=\"saveUserEmail\"\n        >\n          绑定\n        </v-btn>\n      </div>\n    </v-card>\n  </v-dialog>\n</template>\n\n<script>\nexport default {\n  data: function() {\n    return {\n      email: this.$store.state.email,\n      code: \"\",\n      flag: true,\n      codeMsg: \"发送\",\n      time: 60,\n      show: false\n    };\n  },\n  methods: {\n    sendCode() {\n      const that = this;\n      // eslint-disable-next-line no-undef\n      var captcha = new TencentCaptcha(this.config.TENCENT_CAPTCHA, function(\n          res\n      ) {\n        if (res.ret === 0) {\n          // 发送验证码请求\n          that.countDown();\n          that.axios\n              .get(\"/api/users/code\", {\n                params: { username: that.email }\n              })\n              .then(({ data }) => {\n                if (data.flag) {\n                  that.$toast({ type: \"success\", message: data.message });\n                } else {\n                  that.$toast({ type: \"error\", message: data.message });\n                }\n              })\n              .catch((error) => {\n                that.$toast({ type: \"error\", message: \"发送验证码失败\" });\n                console.error(\"发送验证码请求失败:\", error);\n              });\n        }\n      });\n      // 显示验证码\n      captcha.show();\n    },\n    countDown() {\n      this.flag = true;\n      this.timer = setInterval(() => {\n        this.time--;\n        this.codeMsg = this.time + \"s\";\n        if (this.time <= 0) {\n          clearInterval(this.timer);\n          this.codeMsg = \"发送\";\n          this.time = 60;\n          this.flag = false;\n        }\n      }, 1000);\n    },\n    saveUserEmail() {\n      var reg = /^[A-Za-z0-9\\u4e00-\\u9fa5]+@[a-zA-Z0-9_-]+(\\.[a-zA-Z0-9_-]+)+$/;\n      if (!reg.test(this.email)) {\n        this.$toast({ type: \"error\", message: \"邮箱格式不正确\" });\n        return false;\n      }\n      if (this.code.trim().length != 6) {\n        this.$toast({ type: \"error\", message: \"请输入6位验证码\" });\n        return false;\n      }\n      const user = {\n        email: this.email,\n        code: this.code\n      };\n      console.log(\"Request data:\", user);\n      const token = this.$store.state.token || localStorage.getItem('token');\n      this.axios.post(\"/api/users/email\", user, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      }).then(({ data }) => {\n        console.log(\"Response data:\", data); // 确保这里能正确打印出返回的数据\n        if (data.message === \"success\") { // 修改为正确的判断条件\n          this.$store.commit(\"saveEmail\", this.email);\n          this.email = \"\";\n          this.code = \"\";\n          this.$store.commit(\"closeModel\");\n          this.$toast({ type: \"success\", message: data.message });\n        } else {\n          this.$toast({ type: \"error\", message: data.message });\n        }\n      }).catch(error => {\n        console.error(\"请求失败:\", error);\n        this.$toast({ type: \"error\", message: \"请求失败，请稍后重试\" });\n      });\n    }\n  },\n  computed: {\n    emailFlag: {\n      set(value) {\n        this.$store.state.emailFlag = value;\n      },\n      get() {\n        return this.$store.state.emailFlag;\n      }\n    },\n\n    isMobile() {\n      const clientWidth = document.documentElement.clientWidth;\n      return clientWidth <= 960;\n    }\n  },\n  watch: {\n    email(value) {\n      var reg = /^[A-Za-z0-9\\u4e00-\\u9fa5]+@[a-zA-Z0-9_-]+(\\.[a-zA-Z0-9_-]+)+$/;\n      this.flag = !reg.test(value);\n    }\n  }\n};\n</script>\n\n<style scoped>\n@media (min-width: 760px) {\n  .login-container {\n    padding: 1rem;\n    border-radius: 4px;\n    height: 400px;\n  }\n}\n</style>\n"],"sourceRoot":"src/components/model"}]}