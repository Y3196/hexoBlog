{"remainingRequest":"E:\\sourceCode\\Backend\\blog-master\\blog-vue\\admin\\node_modules\\babel-loader\\lib\\index.js!E:\\sourceCode\\Backend\\blog-master\\blog-vue\\admin\\node_modules\\eslint-loader\\index.js??ref--14-0!E:\\sourceCode\\Backend\\blog-master\\blog-vue\\admin\\src\\store\\index.js","dependencies":[{"path":"E:\\sourceCode\\Backend\\blog-master\\blog-vue\\admin\\src\\store\\index.js","mtime":1724312960230},{"path":"E:\\sourceCode\\Backend\\blog-master\\blog-vue\\admin\\babel.config.js","mtime":1659112848000},{"path":"E:\\sourceCode\\Backend\\blog-master\\blog-vue\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\sourceCode\\Backend\\blog-master\\blog-vue\\admin\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"E:\\sourceCode\\Backend\\blog-master\\blog-vue\\admin\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCBWdWUgZnJvbSAidnVlIjsKaW1wb3J0IFZ1ZXggZnJvbSAidnVleCI7CmltcG9ydCBjcmVhdGVQZXJzaXN0ZWRTdGF0ZSBmcm9tICJ2dWV4LXBlcnNpc3RlZHN0YXRlIjsKVnVlLnVzZShWdWV4KTsKZXhwb3J0IGRlZmF1bHQgbmV3IFZ1ZXguU3RvcmUoewogIHN0YXRlOiB7CiAgICBjb2xsYXBzZTogZmFsc2UsCiAgICB0YWJMaXN0OiBbewogICAgICBuYW1lOiAi6aaW6aG1IiwKICAgICAgcGF0aDogIi8iCiAgICB9XSwKICAgIHVzZXJJZDogbnVsbCwKICAgIHJvbGVMaXN0OiBudWxsLAogICAgYXZhdGFyOiBudWxsLAogICAgbmlja25hbWU6IG51bGwsCiAgICBpbnRybzogbnVsbCwKICAgIHdlYlNpdGU6IG51bGwsCiAgICB1c2VyTWVudUxpc3Q6IFtdLAogICAgdG9rZW46IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpIHx8ICcnIC8vIOS7jiBsb2NhbFN0b3JhZ2Ug5Lit6I635Y+WIHRva2VuCiAgfSwKCiAgbXV0YXRpb25zOiB7CiAgICBzYXZlVGFiKHN0YXRlLCB0YWIpIHsKICAgICAgaWYgKHN0YXRlLnRhYkxpc3QuZmluZEluZGV4KGl0ZW0gPT4gaXRlbS5wYXRoID09PSB0YWIucGF0aCkgPT0gLTEpIHsKICAgICAgICBzdGF0ZS50YWJMaXN0LnB1c2goewogICAgICAgICAgbmFtZTogdGFiLm5hbWUsCiAgICAgICAgICBwYXRoOiB0YWIucGF0aAogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgcmVtb3ZlVGFiKHN0YXRlLCB0YWIpIHsKICAgICAgdmFyIGluZGV4ID0gc3RhdGUudGFiTGlzdC5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLm5hbWUgPT09IHRhYi5uYW1lKTsKICAgICAgc3RhdGUudGFiTGlzdC5zcGxpY2UoaW5kZXgsIDEpOwogICAgfSwKICAgIHJlc2V0VGFiKHN0YXRlKSB7CiAgICAgIHN0YXRlLnRhYkxpc3QgPSBbewogICAgICAgIG5hbWU6ICLpppbpobUiLAogICAgICAgIHBhdGg6ICIvIgogICAgICB9XTsKICAgIH0sCiAgICB0cmlnZ2VyKHN0YXRlKSB7CiAgICAgIHN0YXRlLmNvbGxhcHNlID0gIXN0YXRlLmNvbGxhcHNlOwogICAgfSwKICAgIGxvZ2luKHN0YXRlLCB1c2VyKSB7CiAgICAgIHN0YXRlLnVzZXJJZCA9IHVzZXIudXNlckluZm9JZDsKICAgICAgc3RhdGUucm9sZUxpc3QgPSB1c2VyLnJvbGVMaXN0OwogICAgICBzdGF0ZS5hdmF0YXIgPSB1c2VyLmF2YXRhcjsKICAgICAgc3RhdGUubmlja25hbWUgPSB1c2VyLm5pY2tuYW1lOwogICAgICBzdGF0ZS5pbnRybyA9IHVzZXIuaW50cm87CiAgICAgIHN0YXRlLndlYlNpdGUgPSB1c2VyLndlYlNpdGU7CiAgICAgIHN0YXRlLnRva2VuID0gdXNlci50b2tlbjsKICAgIH0sCiAgICBzYXZlVXNlck1lbnVMaXN0KHN0YXRlLCB1c2VyTWVudUxpc3QpIHsKICAgICAgc3RhdGUudXNlck1lbnVMaXN0ID0gdXNlck1lbnVMaXN0OwogICAgfSwKICAgIGxvZ291dChzdGF0ZSkgewogICAgICBzdGF0ZS51c2VySWQgPSBudWxsOwogICAgICBzdGF0ZS5yb2xlTGlzdCA9IG51bGw7CiAgICAgIHN0YXRlLmF2YXRhciA9IG51bGw7CiAgICAgIHN0YXRlLm5pY2tuYW1lID0gbnVsbDsKICAgICAgc3RhdGUuaW50cm8gPSBudWxsOwogICAgICBzdGF0ZS53ZWJTaXRlID0gbnVsbDsKICAgICAgc3RhdGUudXNlck1lbnVMaXN0ID0gW107CiAgICAgIHN0YXRlLnRva2VuID0gJyc7IC8vIOa4heepuiB0b2tlbgogICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndG9rZW4nKTsgLy8g5ZCM5pe25riF56m6IGxvY2FsU3RvcmFnZSDkuK3nmoQgdG9rZW4KICAgIH0sCgogICAgdXBkYXRlQXZhdGFyKHN0YXRlLCBhdmF0YXIpIHsKICAgICAgc3RhdGUuYXZhdGFyID0gYXZhdGFyOwogICAgfSwKICAgIHVwZGF0ZVVzZXJJbmZvKHN0YXRlLCB1c2VyKSB7CiAgICAgIHN0YXRlLm5pY2tuYW1lID0gdXNlci5uaWNrbmFtZTsKICAgICAgc3RhdGUuaW50cm8gPSB1c2VyLmludHJvOwogICAgICBzdGF0ZS53ZWJTaXRlID0gdXNlci53ZWJTaXRlOwogICAgfSwKICAgIHNldFRva2VuKHN0YXRlLCB0b2tlbikgewogICAgICAvLyDmt7vliqAgc2V0VG9rZW4gbXV0YXRpb24KICAgICAgc3RhdGUudG9rZW4gPSB0b2tlbjsKICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3Rva2VuJywgdG9rZW4pOyAvLyDlkIzmraXliLAgbG9jYWxTdG9yYWdlCiAgICB9CiAgfSwKCiAgYWN0aW9uczoge30sCiAgbW9kdWxlczoge30sCiAgcGx1Z2luczogW2NyZWF0ZVBlcnNpc3RlZFN0YXRlKHsKICAgIHN0b3JhZ2U6IHdpbmRvdy5zZXNzaW9uU3RvcmFnZQogIH0pXQp9KTs="},{"version":3,"names":["Vue","Vuex","createPersistedState","use","Store","state","collapse","tabList","name","path","userId","roleList","avatar","nickname","intro","webSite","userMenuList","token","localStorage","getItem","mutations","saveTab","tab","findIndex","item","push","removeTab","index","splice","resetTab","trigger","login","user","userInfoId","saveUserMenuList","logout","removeItem","updateAvatar","updateUserInfo","setToken","setItem","actions","modules","plugins","storage","window","sessionStorage"],"sources":["E:/sourceCode/Backend/blog-master/blog-vue/admin/src/store/index.js"],"sourcesContent":["import Vue from \"vue\";\nimport Vuex from \"vuex\";\nimport createPersistedState from \"vuex-persistedstate\";\n\nVue.use(Vuex);\n\nexport default new Vuex.Store({\n  state: {\n    collapse: false,\n    tabList: [{ name: \"首页\", path: \"/\" }],\n    userId: null,\n    roleList: null,\n    avatar: null,\n    nickname: null,\n    intro: null,\n    webSite: null,\n    userMenuList: [],\n    token: localStorage.getItem('token') || '', // 从 localStorage 中获取 token\n  },\n  mutations: {\n    saveTab(state, tab) {\n      if (state.tabList.findIndex(item => item.path === tab.path) == -1) {\n        state.tabList.push({ name: tab.name, path: tab.path });\n      }\n    },\n    removeTab(state, tab) {\n      var index = state.tabList.findIndex(item => item.name === tab.name);\n      state.tabList.splice(index, 1);\n    },\n    resetTab(state) {\n      state.tabList = [{ name: \"首页\", path: \"/\" }];\n    },\n    trigger(state) {\n      state.collapse = !state.collapse;\n    },\n    login(state, user) {\n      state.userId = user.userInfoId;\n      state.roleList = user.roleList;\n      state.avatar = user.avatar;\n      state.nickname = user.nickname;\n      state.intro = user.intro;\n      state.webSite = user.webSite;\n      state.token = user.token;\n    },\n    saveUserMenuList(state, userMenuList) {\n      state.userMenuList = userMenuList;\n    },\n    logout(state) {\n      state.userId = null;\n      state.roleList = null;\n      state.avatar = null;\n      state.nickname = null;\n      state.intro = null;\n      state.webSite = null;\n      state.userMenuList = [];\n      state.token = ''; // 清空 token\n      localStorage.removeItem('token'); // 同时清空 localStorage 中的 token\n    },\n    updateAvatar(state, avatar) {\n      state.avatar = avatar;\n    },\n    updateUserInfo(state, user) {\n      state.nickname = user.nickname;\n      state.intro = user.intro;\n      state.webSite = user.webSite;\n    },\n    setToken(state, token) { // 添加 setToken mutation\n      state.token = token;\n      localStorage.setItem('token', token); // 同步到 localStorage\n    }\n  },\n  actions: {},\n  modules: {},\n  plugins: [\n    createPersistedState({\n      storage: window.sessionStorage\n    })\n  ]\n});\n"],"mappings":"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"}]}