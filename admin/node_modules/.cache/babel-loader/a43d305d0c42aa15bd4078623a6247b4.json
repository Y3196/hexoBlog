{"remainingRequest":"S:\\SpringBoot + Vue博客源码\\blog-master\\blog-vue\\admin\\node_modules\\babel-loader\\lib\\index.js!S:\\SpringBoot + Vue博客源码\\blog-master\\blog-vue\\admin\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!S:\\SpringBoot + Vue博客源码\\blog-master\\blog-vue\\admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!S:\\SpringBoot + Vue博客源码\\blog-master\\blog-vue\\admin\\src\\views\\role\\Role.vue?vue&type=script&lang=js","dependencies":[{"path":"S:\\SpringBoot + Vue博客源码\\blog-master\\blog-vue\\admin\\src\\views\\role\\Role.vue","mtime":1659112847000},{"path":"S:\\SpringBoot + Vue博客源码\\blog-master\\blog-vue\\admin\\babel.config.js","mtime":1659112847000},{"path":"S:\\SpringBoot + Vue博客源码\\blog-master\\blog-vue\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"S:\\SpringBoot + Vue博客源码\\blog-master\\blog-vue\\admin\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"S:\\SpringBoot + Vue博客源码\\blog-master\\blog-vue\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"S:\\SpringBoot + Vue博客源码\\blog-master\\blog-vue\\admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBjcmVhdGVkKCkgewogICAgdGhpcy5saXN0Um9sZXMoKTsKICB9LAogIGRhdGE6IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiB7CiAgICAgIGxvYWRpbmc6IHRydWUsCiAgICAgIGlzRGVsZXRlOiBmYWxzZSwKICAgICAgcm9sZUxpc3Q6IFtdLAogICAgICByb2xlSWRMaXN0OiBbXSwKICAgICAga2V5d29yZHM6IG51bGwsCiAgICAgIGN1cnJlbnQ6IDEsCiAgICAgIHNpemU6IDEwLAogICAgICBjb3VudDogMCwKICAgICAgcm9sZU1lbnU6IGZhbHNlLAogICAgICByb2xlUmVzb3VyY2U6IGZhbHNlLAogICAgICByZXNvdXJjZUxpc3Q6IFtdLAogICAgICBtZW51TGlzdDogW10sCiAgICAgIHJvbGVGb3JtOiB7CiAgICAgICAgcm9sZU5hbWU6ICIiLAogICAgICAgIHJvbGVMYWJlbDogIiIsCiAgICAgICAgcmVzb3VyY2VJZExpc3Q6IFtdLAogICAgICAgIG1lbnVJZExpc3Q6IFtdCiAgICAgIH0KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBzZWFyY2hSb2xlcygpIHsKICAgICAgdGhpcy5jdXJyZW50ID0gMTsKICAgICAgdGhpcy5saXN0Um9sZXMoKTsKICAgIH0sCiAgICBzaXplQ2hhbmdlKHNpemUpIHsKICAgICAgdGhpcy5zaXplID0gc2l6ZTsKICAgICAgdGhpcy5saXN0Um9sZXMoKTsKICAgIH0sCiAgICBjdXJyZW50Q2hhbmdlKGN1cnJlbnQpIHsKICAgICAgdGhpcy5jdXJyZW50ID0gY3VycmVudDsKICAgICAgdGhpcy5saXN0Um9sZXMoKTsKICAgIH0sCiAgICBzZWxlY3Rpb25DaGFuZ2Uocm9sZUxpc3QpIHsKICAgICAgdGhpcy5yb2xlSWRMaXN0ID0gW107CiAgICAgIHJvbGVMaXN0LmZvckVhY2goaXRlbSA9PiB7CiAgICAgICAgdGhpcy5yb2xlSWRMaXN0LnB1c2goaXRlbS5pZCk7CiAgICAgIH0pOwogICAgfSwKICAgIGxpc3RSb2xlcygpIHsKICAgICAgdGhpcy5heGlvcy5nZXQoIi9hcGkvYWRtaW4vcm9sZXMiLCB7CiAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICBjdXJyZW50OiB0aGlzLmN1cnJlbnQsCiAgICAgICAgICBzaXplOiB0aGlzLnNpemUsCiAgICAgICAgICBrZXl3b3JkczogdGhpcy5rZXl3b3JkcwogICAgICAgIH0KICAgICAgfSkudGhlbigoewogICAgICAgIGRhdGEKICAgICAgfSkgPT4gewogICAgICAgIHRoaXMucm9sZUxpc3QgPSBkYXRhLmRhdGEucmVjb3JkTGlzdDsKICAgICAgICB0aGlzLmNvdW50ID0gZGF0YS5kYXRhLmNvdW50OwogICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICB9KTsKICAgICAgdGhpcy5heGlvcy5nZXQoIi9hcGkvYWRtaW4vcm9sZS9yZXNvdXJjZXMiKS50aGVuKCh7CiAgICAgICAgZGF0YQogICAgICB9KSA9PiB7CiAgICAgICAgdGhpcy5yZXNvdXJjZUxpc3QgPSBkYXRhLmRhdGE7CiAgICAgIH0pOwogICAgICB0aGlzLmF4aW9zLmdldCgiL2FwaS9hZG1pbi9yb2xlL21lbnVzIikudGhlbigoewogICAgICAgIGRhdGEKICAgICAgfSkgPT4gewogICAgICAgIHRoaXMubWVudUxpc3QgPSBkYXRhLmRhdGE7CiAgICAgIH0pOwogICAgfSwKICAgIGRlbGV0ZVJvbGVzKGlkKSB7CiAgICAgIHZhciBwYXJhbSA9IHt9OwogICAgICBpZiAoaWQgPT0gbnVsbCkgewogICAgICAgIHBhcmFtID0gewogICAgICAgICAgZGF0YTogdGhpcy5yb2xlSWRMaXN0CiAgICAgICAgfTsKICAgICAgfSBlbHNlIHsKICAgICAgICBwYXJhbSA9IHsKICAgICAgICAgIGRhdGE6IFtpZF0KICAgICAgICB9OwogICAgICB9CiAgICAgIHRoaXMuYXhpb3MuZGVsZXRlKCIvYXBpL2FkbWluL3JvbGVzIiwgcGFyYW0pLnRoZW4oKHsKICAgICAgICBkYXRhCiAgICAgIH0pID0+IHsKICAgICAgICBpZiAoZGF0YS5mbGFnKSB7CiAgICAgICAgICB0aGlzLiRub3RpZnkuc3VjY2Vzcyh7CiAgICAgICAgICAgIHRpdGxlOiAi5oiQ5YqfIiwKICAgICAgICAgICAgbWVzc2FnZTogZGF0YS5tZXNzYWdlCiAgICAgICAgICB9KTsKICAgICAgICAgIHRoaXMubGlzdFJvbGVzKCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuJG5vdGlmeS5lcnJvcih7CiAgICAgICAgICAgIHRpdGxlOiAi5aSx6LSlIiwKICAgICAgICAgICAgbWVzc2FnZTogZGF0YS5tZXNzYWdlCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgdGhpcy5pc0RlbGV0ZSA9IGZhbHNlOwogICAgICB9KTsKICAgIH0sCiAgICBvcGVuTWVudU1vZGVsKHJvbGUpIHsKICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgIHRoaXMuJHJlZnMubWVudVRyZWUuc2V0Q2hlY2tlZEtleXMoW10pOwogICAgICB9KTsKICAgICAgdGhpcy4kcmVmcy5yb2xlVGl0bGUuaW5uZXJIVE1MID0gcm9sZSA/ICLkv67mlLnop5LoibIiIDogIuaWsOWinuinkuiJsiI7CiAgICAgIGlmIChyb2xlICE9IG51bGwpIHsKICAgICAgICB0aGlzLnJvbGVGb3JtID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShyb2xlKSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5yb2xlRm9ybSA9IHsKICAgICAgICAgIHJvbGVOYW1lOiAiIiwKICAgICAgICAgIHJvbGVMYWJlbDogIiIsCiAgICAgICAgICByZXNvdXJjZUlkTGlzdDogW10sCiAgICAgICAgICBtZW51SWRMaXN0OiBbXQogICAgICAgIH07CiAgICAgIH0KICAgICAgdGhpcy5yb2xlTWVudSA9IHRydWU7CiAgICB9LAogICAgb3BlblJlc291cmNlTW9kZWwocm9sZSkgewogICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgdGhpcy4kcmVmcy5yZXNvdXJjZVRyZWUuc2V0Q2hlY2tlZEtleXMoW10pOwogICAgICB9KTsKICAgICAgdGhpcy5yb2xlRm9ybSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkocm9sZSkpOwogICAgICB0aGlzLnJvbGVSZXNvdXJjZSA9IHRydWU7CiAgICB9LAogICAgc2F2ZU9yVXBkYXRlUm9sZVJlc291cmNlKCkgewogICAgICB0aGlzLnJvbGVGb3JtLm1lbnVJZExpc3QgPSBudWxsOwogICAgICB0aGlzLnJvbGVGb3JtLnJlc291cmNlSWRMaXN0ID0gdGhpcy4kcmVmcy5yZXNvdXJjZVRyZWUuZ2V0Q2hlY2tlZEtleXMoKTsKICAgICAgdGhpcy5heGlvcy5wb3N0KCIvYXBpL2FkbWluL3JvbGUiLCB0aGlzLnJvbGVGb3JtKS50aGVuKCh7CiAgICAgICAgZGF0YQogICAgICB9KSA9PiB7CiAgICAgICAgaWYgKGRhdGEuZmxhZykgewogICAgICAgICAgdGhpcy4kbm90aWZ5LnN1Y2Nlc3MoewogICAgICAgICAgICB0aXRsZTogIuaIkOWKnyIsCiAgICAgICAgICAgIG1lc3NhZ2U6IGRhdGEubWVzc2FnZQogICAgICAgICAgfSk7CiAgICAgICAgICB0aGlzLmxpc3RSb2xlcygpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLiRub3RpZnkuZXJyb3IoewogICAgICAgICAgICB0aXRsZTogIuWksei0pSIsCiAgICAgICAgICAgIG1lc3NhZ2U6IGRhdGEubWVzc2FnZQogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICAgIHRoaXMucm9sZVJlc291cmNlID0gZmFsc2U7CiAgICAgIH0pOwogICAgfSwKICAgIHNhdmVPclVwZGF0ZVJvbGVNZW51KCkgewogICAgICBpZiAodGhpcy5yb2xlRm9ybS5yb2xlTmFtZS50cmltKCkgPT0gIiIpIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCLop5LoibLlkI3kuI3og73kuLrnqboiKTsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgICAgaWYgKHRoaXMucm9sZUZvcm0ucm9sZUxhYmVsLnRyaW0oKSA9PSAiIikgewogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoIuadg+mZkOagh+etvuS4jeiDveS4uuepuiIpOwogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgICB0aGlzLnJvbGVGb3JtLnJlc291cmNlSWRMaXN0ID0gbnVsbDsKICAgICAgdGhpcy5yb2xlRm9ybS5tZW51SWRMaXN0ID0gdGhpcy4kcmVmcy5tZW51VHJlZS5nZXRDaGVja2VkS2V5cygpLmNvbmNhdCh0aGlzLiRyZWZzLm1lbnVUcmVlLmdldEhhbGZDaGVja2VkS2V5cygpKTsKICAgICAgdGhpcy5heGlvcy5wb3N0KCIvYXBpL2FkbWluL3JvbGUiLCB0aGlzLnJvbGVGb3JtKS50aGVuKCh7CiAgICAgICAgZGF0YQogICAgICB9KSA9PiB7CiAgICAgICAgaWYgKGRhdGEuZmxhZykgewogICAgICAgICAgdGhpcy4kbm90aWZ5LnN1Y2Nlc3MoewogICAgICAgICAgICB0aXRsZTogIuaIkOWKnyIsCiAgICAgICAgICAgIG1lc3NhZ2U6IGRhdGEubWVzc2FnZQogICAgICAgICAgfSk7CiAgICAgICAgICB0aGlzLmxpc3RSb2xlcygpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLiRub3RpZnkuZXJyb3IoewogICAgICAgICAgICB0aXRsZTogIuWksei0pSIsCiAgICAgICAgICAgIG1lc3NhZ2U6IGRhdGEubWVzc2FnZQogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICAgIHRoaXMucm9sZU1lbnUgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["created","listRoles","data","loading","isDelete","roleList","roleIdList","keywords","current","size","count","roleMenu","roleResource","resourceList","menuList","roleForm","roleName","roleLabel","resourceIdList","menuIdList","methods","searchRoles","sizeChange","currentChange","selectionChange","forEach","item","push","id","axios","get","params","then","recordList","deleteRoles","param","delete","flag","$notify","success","title","message","error","openMenuModel","role","$nextTick","$refs","menuTree","setCheckedKeys","roleTitle","innerHTML","JSON","parse","stringify","openResourceModel","resourceTree","saveOrUpdateRoleResource","getCheckedKeys","post","saveOrUpdateRoleMenu","trim","$message","concat","getHalfCheckedKeys"],"sources":["src/views/role/Role.vue"],"sourcesContent":["<template>\n  <el-card class=\"main-card\">\n    <div class=\"title\">{{ this.$route.name }}</div>\n    <!-- 表格操作 -->\n    <div class=\"operation-container\">\n      <el-button\n        type=\"primary\"\n        size=\"small\"\n        icon=\"el-icon-plus\"\n        @click=\"openMenuModel(null)\"\n      >\n        新增\n      </el-button>\n      <el-button\n        type=\"danger\"\n        size=\"small\"\n        icon=\"el-icon-delete\"\n        :disabled=\"this.roleIdList.length == 0\"\n        @click=\"isDelete = true\"\n      >\n        批量删除\n      </el-button>\n      <!-- 条件筛选 -->\n      <div style=\"margin-left:auto\">\n        <el-input\n          v-model=\"keywords\"\n          prefix-icon=\"el-icon-search\"\n          size=\"small\"\n          placeholder=\"请输入角色名\"\n          style=\"width:200px\"\n          @keyup.enter.native=\"searchRoles\"\n        />\n        <el-button\n          type=\"primary\"\n          size=\"small\"\n          icon=\"el-icon-search\"\n          style=\"margin-left:1rem\"\n          @click=\"searchRoles\"\n        >\n          搜索\n        </el-button>\n      </div>\n    </div>\n    <!-- 表格展示 -->\n    <el-table\n      border\n      :data=\"roleList\"\n      @selection-change=\"selectionChange\"\n      v-loading=\"loading\"\n    >\n      <!-- 表格列 -->\n      <el-table-column type=\"selection\" width=\"55\" />\n      <el-table-column prop=\"roleName\" label=\"角色名\" align=\"center\" />\n      <el-table-column prop=\"roleLabel\" label=\"权限标签\" align=\"center\">\n        <template slot-scope=\"scope\">\n          <el-tag>\n            {{ scope.row.roleLabel }}\n          </el-tag>\n        </template>\n      </el-table-column>\n      <el-table-column prop=\"isDisable\" label=\"禁用\" align=\"center\" width=\"100\">\n        <template slot-scope=\"scope\">\n          <el-switch\n            v-model=\"scope.row.isDisable\"\n            active-color=\"#13ce66\"\n            inactive-color=\"#F4F4F5\"\n            :active-value=\"1\"\n            :inactive-value=\"0\"\n            @change=\"changeDisable(scope.row)\"\n          />\n        </template>\n      </el-table-column>\n      <el-table-column\n        prop=\"createTime\"\n        label=\"创建时间\"\n        width=\"150\"\n        align=\"center\"\n      >\n        <template slot-scope=\"scope\">\n          <i class=\"el-icon-time\" style=\"margin-right:5px\" />\n          {{ scope.row.createTime | date }}\n        </template>\n      </el-table-column>\n      <!-- 列操作 -->\n      <el-table-column label=\"操作\" align=\"center\" width=\"220\">\n        <template slot-scope=\"scope\">\n          <el-button type=\"text\" size=\"mini\" @click=\"openMenuModel(scope.row)\">\n            <i class=\"el-icon-edit\" /> 菜单权限\n          </el-button>\n          <el-button\n            type=\"text\"\n            size=\"mini\"\n            @click=\"openResourceModel(scope.row)\"\n          >\n            <i class=\"el-icon-folder-checked\" /> 资源权限\n          </el-button>\n          <el-popconfirm\n            title=\"确定删除吗？\"\n            style=\"margin-left:10px\"\n            @confirm=\"deleteRoles(scope.row.id)\"\n          >\n            <el-button size=\"mini\" type=\"text\" slot=\"reference\">\n              <i class=\"el-icon-delete\" /> 删除\n            </el-button>\n          </el-popconfirm>\n        </template>\n      </el-table-column>\n    </el-table>\n    <!-- 分页 -->\n    <el-pagination\n      class=\"pagination-container\"\n      background\n      @size-change=\"sizeChange\"\n      @current-change=\"currentChange\"\n      :current-page=\"current\"\n      :page-size=\"size\"\n      :total=\"count\"\n      :page-sizes=\"[10, 20]\"\n      layout=\"total, sizes, prev, pager, next, jumper\"\n    />\n    <!-- 菜单对话框 -->\n    <el-dialog :visible.sync=\"roleMenu\" width=\"30%\">\n      <div class=\"dialog-title-container\" slot=\"title\" ref=\"roleTitle\" />\n      <el-form label-width=\"80px\" size=\"medium\" :model=\"roleForm\">\n        <el-form-item label=\"角色名\">\n          <el-input v-model=\"roleForm.roleName\" style=\"width:250px\" />\n        </el-form-item>\n        <el-form-item label=\"权限标签\">\n          <el-input v-model=\"roleForm.roleLabel\" style=\"width:250px\" />\n        </el-form-item>\n        <el-form-item label=\"菜单权限\">\n          <el-tree\n            :data=\"menuList\"\n            :default-checked-keys=\"roleForm.menuIdList\"\n            check-strictly\n            show-checkbox\n            node-key=\"id\"\n            ref=\"menuTree\"\n          />\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\">\n        <el-button @click=\"roleMenu = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"saveOrUpdateRoleMenu\">\n          确 定\n        </el-button>\n      </div>\n    </el-dialog>\n    <!-- 资源对话框 -->\n    <el-dialog :visible.sync=\"roleResource\" width=\"30%\" top=\"9vh\">\n      <div class=\"dialog-title-container\" slot=\"title\">修改资源权限</div>\n      <el-form label-width=\"80px\" size=\"medium\" :model=\"roleForm\">\n        <el-form-item label=\"角色名\">\n          <el-input v-model=\"roleForm.roleName\" style=\"width:250px\" />\n        </el-form-item>\n        <el-form-item label=\"权限标签\">\n          <el-input v-model=\"roleForm.roleLabel\" style=\"width:250px\" />\n        </el-form-item>\n        <el-form-item label=\"资源权限\">\n          <el-tree\n            :data=\"resourceList\"\n            :default-checked-keys=\"roleForm.resourceIdList\"\n            show-checkbox\n            node-key=\"id\"\n            ref=\"resourceTree\"\n          />\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\">\n        <el-button @click=\"roleResource = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"saveOrUpdateRoleResource\">\n          确 定\n        </el-button>\n      </div>\n    </el-dialog>\n    <!-- 批量删除对话框 -->\n    <el-dialog :visible.sync=\"isDelete\" width=\"30%\">\n      <div class=\"dialog-title-container\" slot=\"title\">\n        <i class=\"el-icon-warning\" style=\"color:#ff9900\" />提示\n      </div>\n      <div style=\"font-size:1rem\">是否删除选中项？</div>\n      <div slot=\"footer\">\n        <el-button @click=\"isDelete = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"deleteRoles(null)\">\n          确 定\n        </el-button>\n      </div>\n    </el-dialog>\n  </el-card>\n</template>\n\n<script>\nexport default {\n  created() {\n    this.listRoles();\n  },\n  data: function() {\n    return {\n      loading: true,\n      isDelete: false,\n      roleList: [],\n      roleIdList: [],\n      keywords: null,\n      current: 1,\n      size: 10,\n      count: 0,\n      roleMenu: false,\n      roleResource: false,\n      resourceList: [],\n      menuList: [],\n      roleForm: {\n        roleName: \"\",\n        roleLabel: \"\",\n        resourceIdList: [],\n        menuIdList: []\n      }\n    };\n  },\n  methods: {\n    searchRoles() {\n      this.current = 1;\n      this.listRoles();\n    },\n    sizeChange(size) {\n      this.size = size;\n      this.listRoles();\n    },\n    currentChange(current) {\n      this.current = current;\n      this.listRoles();\n    },\n    selectionChange(roleList) {\n      this.roleIdList = [];\n      roleList.forEach(item => {\n        this.roleIdList.push(item.id);\n      });\n    },\n    listRoles() {\n      this.axios\n        .get(\"/api/admin/roles\", {\n          params: {\n            current: this.current,\n            size: this.size,\n            keywords: this.keywords\n          }\n        })\n        .then(({ data }) => {\n          this.roleList = data.data.recordList;\n          this.count = data.data.count;\n          this.loading = false;\n        });\n      this.axios.get(\"/api/admin/role/resources\").then(({ data }) => {\n        this.resourceList = data.data;\n      });\n      this.axios.get(\"/api/admin/role/menus\").then(({ data }) => {\n        this.menuList = data.data;\n      });\n    },\n    deleteRoles(id) {\n      var param = {};\n      if (id == null) {\n        param = { data: this.roleIdList };\n      } else {\n        param = { data: [id] };\n      }\n      this.axios.delete(\"/api/admin/roles\", param).then(({ data }) => {\n        if (data.flag) {\n          this.$notify.success({\n            title: \"成功\",\n            message: data.message\n          });\n          this.listRoles();\n        } else {\n          this.$notify.error({\n            title: \"失败\",\n            message: data.message\n          });\n        }\n        this.isDelete = false;\n      });\n    },\n    openMenuModel(role) {\n      this.$nextTick(function() {\n        this.$refs.menuTree.setCheckedKeys([]);\n      });\n      this.$refs.roleTitle.innerHTML = role ? \"修改角色\" : \"新增角色\";\n      if (role != null) {\n        this.roleForm = JSON.parse(JSON.stringify(role));\n      } else {\n        this.roleForm = {\n          roleName: \"\",\n          roleLabel: \"\",\n          resourceIdList: [],\n          menuIdList: []\n        };\n      }\n      this.roleMenu = true;\n    },\n    openResourceModel(role) {\n      this.$nextTick(function() {\n        this.$refs.resourceTree.setCheckedKeys([]);\n      });\n      this.roleForm = JSON.parse(JSON.stringify(role));\n      this.roleResource = true;\n    },\n    saveOrUpdateRoleResource() {\n      this.roleForm.menuIdList = null;\n      this.roleForm.resourceIdList = this.$refs.resourceTree.getCheckedKeys();\n      this.axios.post(\"/api/admin/role\", this.roleForm).then(({ data }) => {\n        if (data.flag) {\n          this.$notify.success({\n            title: \"成功\",\n            message: data.message\n          });\n          this.listRoles();\n        } else {\n          this.$notify.error({\n            title: \"失败\",\n            message: data.message\n          });\n        }\n        this.roleResource = false;\n      });\n    },\n    saveOrUpdateRoleMenu() {\n      if (this.roleForm.roleName.trim() == \"\") {\n        this.$message.error(\"角色名不能为空\");\n        return false;\n      }\n      if (this.roleForm.roleLabel.trim() == \"\") {\n        this.$message.error(\"权限标签不能为空\");\n        return false;\n      }\n      this.roleForm.resourceIdList = null;\n      this.roleForm.menuIdList = this.$refs.menuTree\n        .getCheckedKeys()\n        .concat(this.$refs.menuTree.getHalfCheckedKeys());\n      this.axios.post(\"/api/admin/role\", this.roleForm).then(({ data }) => {\n        if (data.flag) {\n          this.$notify.success({\n            title: \"成功\",\n            message: data.message\n          });\n          this.listRoles();\n        } else {\n          this.$notify.error({\n            title: \"失败\",\n            message: data.message\n          });\n        }\n        this.roleMenu = false;\n      });\n    }\n  }\n};\n</script>\n"],"mappings":"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"}]}